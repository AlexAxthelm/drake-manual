<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>The User Manual of the drake R Package</title>
  <meta name="description" content="The User Manual of the drake R Package">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="The User Manual of the drake R Package" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="The User Manual of the drake R Package" />
  
  
  

<meta name="author" content="Will Landau">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="example-packages.html">
<link rel="next" href="mtcars.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Installation</a></li>
<li class="chapter" data-level="2" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>2</b> Introduction</a><ul>
<li class="chapter" data-level="2.1" data-path="intro.html"><a href="intro.html#set-the-stage."><i class="fa fa-check"></i><b>2.1</b> Set the stage.</a></li>
<li class="chapter" data-level="2.2" data-path="intro.html"><a href="intro.html#make-your-results."><i class="fa fa-check"></i><b>2.2</b> Make your results.</a></li>
<li class="chapter" data-level="2.3" data-path="intro.html"><a href="intro.html#go-back-and-fix-things."><i class="fa fa-check"></i><b>2.3</b> Go back and fix things.</a></li>
<li class="chapter" data-level="2.4" data-path="intro.html"><a href="intro.html#try-it-yourself"><i class="fa fa-check"></i><b>2.4</b> Try it yourself!</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="example-packages.html"><a href="example-packages.html"><i class="fa fa-check"></i><b>3</b> Example: R package download trends</a><ul>
<li class="chapter" data-level="3.1" data-path="example-packages.html"><a href="example-packages.html#get-the-code."><i class="fa fa-check"></i><b>3.1</b> Get the code.</a></li>
<li class="chapter" data-level="3.2" data-path="example-packages.html"><a href="example-packages.html#overview"><i class="fa fa-check"></i><b>3.2</b> Overview</a></li>
<li class="chapter" data-level="3.3" data-path="example-packages.html"><a href="example-packages.html#analysis"><i class="fa fa-check"></i><b>3.3</b> Analysis</a></li>
<li class="chapter" data-level="3.4" data-path="example-packages.html"><a href="example-packages.html#what-remote-data-sources-in-general"><i class="fa fa-check"></i><b>3.4</b> What remote data sources in general?</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="example-gsp.html"><a href="example-gsp.html"><i class="fa fa-check"></i><b>4</b> Example: gross state products</a><ul>
<li class="chapter" data-level="4.1" data-path="example-gsp.html"><a href="example-gsp.html#get-the-code.-1"><i class="fa fa-check"></i><b>4.1</b> Get the code.</a></li>
<li class="chapter" data-level="4.2" data-path="example-gsp.html"><a href="example-gsp.html#objective-and-methods"><i class="fa fa-check"></i><b>4.2</b> Objective and methods</a></li>
<li class="chapter" data-level="4.3" data-path="example-gsp.html"><a href="example-gsp.html#data"><i class="fa fa-check"></i><b>4.3</b> Data</a></li>
<li class="chapter" data-level="4.4" data-path="example-gsp.html"><a href="example-gsp.html#analysis-1"><i class="fa fa-check"></i><b>4.4</b> Analysis</a></li>
<li class="chapter" data-level="4.5" data-path="example-gsp.html"><a href="example-gsp.html#results"><i class="fa fa-check"></i><b>4.5</b> Results</a></li>
<li class="chapter" data-level="4.6" data-path="example-gsp.html"><a href="example-gsp.html#comparison-with-gnu-make"><i class="fa fa-check"></i><b>4.6</b> Comparison with GNU Make</a></li>
<li class="chapter" data-level="4.7" data-path="example-gsp.html"><a href="example-gsp.html#references"><i class="fa fa-check"></i><b>4.7</b> References</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="mtcars.html"><a href="mtcars.html"><i class="fa fa-check"></i><b>5</b> The mtcars example and workflow plan generation</a><ul>
<li class="chapter" data-level="5.1" data-path="mtcars.html"><a href="mtcars.html#get-the-code.-2"><i class="fa fa-check"></i><b>5.1</b> Get the code.</a></li>
<li class="chapter" data-level="5.2" data-path="mtcars.html"><a href="mtcars.html#quick-examples"><i class="fa fa-check"></i><b>5.2</b> Quick examples</a></li>
<li class="chapter" data-level="5.3" data-path="mtcars.html"><a href="mtcars.html#the-motivation-of-the-mtcars-example"><i class="fa fa-check"></i><b>5.3</b> The motivation of the mtcars example</a></li>
<li class="chapter" data-level="5.4" data-path="mtcars.html"><a href="mtcars.html#set-up-the-mtcars-example"><i class="fa fa-check"></i><b>5.4</b> Set up the mtcars example</a></li>
<li class="chapter" data-level="5.5" data-path="mtcars.html"><a href="mtcars.html#the-workflow-plan-data-frame"><i class="fa fa-check"></i><b>5.5</b> The workflow plan data frame</a></li>
<li class="chapter" data-level="5.6" data-path="mtcars.html"><a href="mtcars.html#generate-the-workflow-plan"><i class="fa fa-check"></i><b>5.6</b> Generate the workflow plan</a></li>
<li class="chapter" data-level="5.7" data-path="mtcars.html"><a href="mtcars.html#flexible-workflow-plan-generation"><i class="fa fa-check"></i><b>5.7</b> Flexible workflow plan generation</a></li>
<li class="chapter" data-level="5.8" data-path="mtcars.html"><a href="mtcars.html#run-the-workflow"><i class="fa fa-check"></i><b>5.8</b> Run the workflow</a></li>
<li class="chapter" data-level="5.9" data-path="mtcars.html"><a href="mtcars.html#automatic-watching-for-changed-dependencies"><i class="fa fa-check"></i><b>5.9</b> Automatic watching for changed dependencies</a></li>
<li class="chapter" data-level="5.10" data-path="mtcars.html"><a href="mtcars.html#a-note-on-tidy-evaluation"><i class="fa fa-check"></i><b>5.10</b> A note on tidy evaluation</a></li>
<li class="chapter" data-level="5.11" data-path="mtcars.html"><a href="mtcars.html#need-more-speed"><i class="fa fa-check"></i><b>5.11</b> Need more speed?</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="best-practices.html"><a href="best-practices.html"><i class="fa fa-check"></i><b>6</b> General best practices for drake projects</a><ul>
<li class="chapter" data-level="6.1" data-path="best-practices.html"><a href="best-practices.html#how-to-organize-your-files"><i class="fa fa-check"></i><b>6.1</b> How to organize your files</a><ul>
<li class="chapter" data-level="6.1.1" data-path="best-practices.html"><a href="best-practices.html#examples"><i class="fa fa-check"></i><b>6.1.1</b> Examples</a></li>
<li class="chapter" data-level="6.1.2" data-path="best-practices.html"><a href="best-practices.html#where-do-you-put-your-code"><i class="fa fa-check"></i><b>6.1.2</b> Where do you put your code?</a></li>
<li class="chapter" data-level="6.1.3" data-path="best-practices.html"><a href="best-practices.html#remember-your-commands-are-code-chunks-not-r-scripts"><i class="fa fa-check"></i><b>6.1.3</b> Remember: your commands are code chunks, not R scripts</a></li>
<li class="chapter" data-level="6.1.4" data-path="best-practices.html"><a href="best-practices.html#file-output-targets"><i class="fa fa-check"></i><b>6.1.4</b> File output targets</a></li>
<li class="chapter" data-level="6.1.5" data-path="best-practices.html"><a href="best-practices.html#r-markdown-and-knitr-reports"><i class="fa fa-check"></i><b>6.1.5</b> R Markdown and knitr reports</a></li>
<li class="chapter" data-level="6.1.6" data-path="best-practices.html"><a href="best-practices.html#workflows-as-r-packages"><i class="fa fa-check"></i><b>6.1.6</b> Workflows as R packages</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="best-practices.html"><a href="best-practices.html#generating-workflow-plan-data-frames"><i class="fa fa-check"></i><b>6.2</b> Generating workflow plan data frames</a></li>
<li class="chapter" data-level="6.3" data-path="best-practices.html"><a href="best-practices.html#remote-data-sources"><i class="fa fa-check"></i><b>6.3</b> Remote data sources</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="debug.html"><a href="debug.html"><i class="fa fa-check"></i><b>7</b> Debugging and testing drake projects</a><ul>
<li class="chapter" data-level="7.1" data-path="debug.html"><a href="debug.html#the-configuration-list"><i class="fa fa-check"></i><b>7.1</b> The configuration list</a></li>
<li class="chapter" data-level="7.2" data-path="debug.html"><a href="debug.html#plan-your-work."><i class="fa fa-check"></i><b>7.2</b> Plan your work.</a><ul>
<li class="chapter" data-level="7.2.1" data-path="debug.html"><a href="debug.html#workflow-plan-data-frames"><i class="fa fa-check"></i><b>7.2.1</b> Workflow plan data frames</a></li>
<li class="chapter" data-level="7.2.2" data-path="debug.html"><a href="debug.html#visualize-your-workflow."><i class="fa fa-check"></i><b>7.2.2</b> Visualize your workflow.</a></li>
<li class="chapter" data-level="7.2.3" data-path="debug.html"><a href="debug.html#check-dependency-relationships."><i class="fa fa-check"></i><b>7.2.3</b> Check dependency relationships.</a></li>
<li class="chapter" data-level="7.2.4" data-path="debug.html"><a href="debug.html#outdated-up-to-date-and-missing-items"><i class="fa fa-check"></i><b>7.2.4</b> Outdated, up to date, and missing items</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="debug.html"><a href="debug.html#test-with-triggers."><i class="fa fa-check"></i><b>7.3</b> Test with triggers.</a></li>
<li class="chapter" data-level="7.4" data-path="debug.html"><a href="debug.html#skipping-imports"><i class="fa fa-check"></i><b>7.4</b> Skipping imports</a></li>
<li class="chapter" data-level="7.5" data-path="debug.html"><a href="debug.html#impose-timeouts-and-retries"><i class="fa fa-check"></i><b>7.5</b> Impose timeouts and retries</a></li>
<li class="chapter" data-level="7.6" data-path="debug.html"><a href="debug.html#diagnose-failures."><i class="fa fa-check"></i><b>7.6</b> Diagnose failures.</a><ul>
<li class="chapter" data-level="7.6.1" data-path="debug.html"><a href="debug.html#tidy-evaluation-a-caveat-to-diagnosing-interactively"><i class="fa fa-check"></i><b>7.6.1</b> Tidy evaluation: a caveat to diagnosing interactively</a></li>
</ul></li>
<li class="chapter" data-level="7.7" data-path="debug.html"><a href="debug.html#debrief-a-build-session."><i class="fa fa-check"></i><b>7.7</b> Debrief a build session.</a></li>
<li class="chapter" data-level="7.8" data-path="debug.html"><a href="debug.html#start-tinkering."><i class="fa fa-check"></i><b>7.8</b> Start tinkering.</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="vis.html"><a href="vis.html"><i class="fa fa-check"></i><b>8</b> Visualization with drake</a><ul>
<li class="chapter" data-level="8.1" data-path="vis.html"><a href="vis.html#dependency-reactivity"><i class="fa fa-check"></i><b>8.1</b> Dependency reactivity</a></li>
<li class="chapter" data-level="8.2" data-path="vis.html"><a href="vis.html#subgraphs"><i class="fa fa-check"></i><b>8.2</b> Subgraphs</a></li>
<li class="chapter" data-level="8.3" data-path="vis.html"><a href="vis.html#parallel-computing-visualized"><i class="fa fa-check"></i><b>8.3</b> Parallel computing visualized</a></li>
<li class="chapter" data-level="8.4" data-path="vis.html"><a href="vis.html#control-the-legend."><i class="fa fa-check"></i><b>8.4</b> Control the legend.</a></li>
<li class="chapter" data-level="8.5" data-path="vis.html"><a href="vis.html#more-flexibility"><i class="fa fa-check"></i><b>8.5</b> More flexibility</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="hpc.html"><a href="hpc.html"><i class="fa fa-check"></i><b>9</b> High-performance computing with drake</a><ul>
<li class="chapter" data-level="9.1" data-path="hpc.html"><a href="hpc.html#batch-mode-for-long-workflows"><i class="fa fa-check"></i><b>9.1</b> Batch mode for long workflows</a></li>
<li class="chapter" data-level="9.2" data-path="hpc.html"><a href="hpc.html#let-drake-schedule-your-targets."><i class="fa fa-check"></i><b>9.2</b> Let drake schedule your targets.</a></li>
<li class="chapter" data-level="9.3" data-path="hpc.html"><a href="hpc.html#parallel-backends"><i class="fa fa-check"></i><b>9.3</b> Parallel backends</a></li>
<li class="chapter" data-level="9.4" data-path="hpc.html"><a href="hpc.html#local-workers"><i class="fa fa-check"></i><b>9.4</b> Local workers</a></li>
<li class="chapter" data-level="9.5" data-path="hpc.html"><a href="hpc.html#remote-workers"><i class="fa fa-check"></i><b>9.5</b> Remote workers</a><ul>
<li class="chapter" data-level="9.5.1" data-path="hpc.html"><a href="hpc.html#future-and-future_lapply"><i class="fa fa-check"></i><b>9.5.1</b> <code>&quot;future&quot;</code> and <code>&quot;future_lapply&quot;</code></a></li>
<li class="chapter" data-level="9.5.2" data-path="hpc.html"><a href="hpc.html#makefile"><i class="fa fa-check"></i><b>9.5.2</b> <code>&quot;Makefile&quot;</code></a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="hpc.html"><a href="hpc.html#scheduling-algorithms"><i class="fa fa-check"></i><b>9.6</b> Scheduling algorithms</a><ul>
<li class="chapter" data-level="9.6.1" data-path="hpc.html"><a href="hpc.html#persistent-scheduling"><i class="fa fa-check"></i><b>9.6.1</b> Persistent scheduling</a></li>
<li class="chapter" data-level="9.6.2" data-path="hpc.html"><a href="hpc.html#transient-scheduling"><i class="fa fa-check"></i><b>9.6.2</b> Transient scheduling</a></li>
<li class="chapter" data-level="9.6.3" data-path="hpc.html"><a href="hpc.html#staged-scheduling"><i class="fa fa-check"></i><b>9.6.3</b> Staged scheduling</a></li>
</ul></li>
<li class="chapter" data-level="9.7" data-path="hpc.html"><a href="hpc.html#final-thoughts"><i class="fa fa-check"></i><b>9.7</b> Final thoughts</a><ul>
<li class="chapter" data-level="9.7.1" data-path="hpc.html"><a href="hpc.html#debugging"><i class="fa fa-check"></i><b>9.7.1</b> Debugging</a></li>
<li class="chapter" data-level="9.7.2" data-path="hpc.html"><a href="hpc.html#drake-as-an-ordinary-job-scheduler"><i class="fa fa-check"></i><b>9.7.2</b> Drake as an ordinary job scheduler</a></li>
<li class="chapter" data-level="9.7.3" data-path="hpc.html"><a href="hpc.html#more-resources"><i class="fa fa-check"></i><b>9.7.3</b> More resources</a></li>
</ul></li>
<li class="chapter" data-level="9.8" data-path="hpc.html"><a href="hpc.html#footnotes"><i class="fa fa-check"></i><b>9.8</b> Footnotes</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="time.html"><a href="time.html"><i class="fa fa-check"></i><b>10</b> Time: logging, prediction, and strategy</a><ul>
<li class="chapter" data-level="10.1" data-path="time.html"><a href="time.html#predict-total-runtime"><i class="fa fa-check"></i><b>10.1</b> Predict total runtime</a></li>
<li class="chapter" data-level="10.2" data-path="time.html"><a href="time.html#strategize-your-high-performance-computing"><i class="fa fa-check"></i><b>10.2</b> Strategize your high-performance computing</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="store.html"><a href="store.html"><i class="fa fa-check"></i><b>11</b> Storage</a><ul>
<li class="chapter" data-level="11.1" data-path="store.html"><a href="store.html#caches"><i class="fa fa-check"></i><b>11.1</b> Caches</a></li>
<li class="chapter" data-level="11.2" data-path="store.html"><a href="store.html#hash-algorithms"><i class="fa fa-check"></i><b>11.2</b> Hash algorithms</a></li>
<li class="chapter" data-level="11.3" data-path="store.html"><a href="store.html#which-hash-algorithm-should-you-choose"><i class="fa fa-check"></i><b>11.3</b> Which hash algorithm should you choose?</a></li>
<li class="chapter" data-level="11.4" data-path="store.html"><a href="store.html#select-the-hash-algorithms-of-the-cache"><i class="fa fa-check"></i><b>11.4</b> Select the hash algorithms of the cache</a></li>
<li class="chapter" data-level="11.5" data-path="store.html"><a href="store.html#using-storr-directly"><i class="fa fa-check"></i><b>11.5</b> Using <code>storr</code> directly</a></li>
<li class="chapter" data-level="11.6" data-path="store.html"><a href="store.html#cleaning-up"><i class="fa fa-check"></i><b>11.6</b> Cleaning up</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="caution.html"><a href="caution.html"><i class="fa fa-check"></i><b>12</b> Cautionary notes</a><ul>
<li class="chapter" data-level="12.1" data-path="caution.html"><a href="caution.html#projects-built-with-drake-4.4.0-are-not-back-compatible-with-drake-4.4.0."><i class="fa fa-check"></i><b>12.1</b> Projects built with drake &lt;= 4.4.0 are not back compatible with drake &gt; 4.4.0.</a></li>
<li class="chapter" data-level="12.2" data-path="caution.html"><a href="caution.html#workflow-plans"><i class="fa fa-check"></i><b>12.2</b> Workflow plans</a><ul>
<li class="chapter" data-level="12.2.1" data-path="caution.html"><a href="caution.html#externalizing-commands-in-r-script-files"><i class="fa fa-check"></i><b>12.2.1</b> Externalizing commands in R script files</a></li>
<li class="chapter" data-level="12.2.2" data-path="caution.html"><a href="caution.html#commands-are-not-perfectly-flexible."><i class="fa fa-check"></i><b>12.2.2</b> Commands are NOT perfectly flexible.</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="caution.html"><a href="caution.html#execution"><i class="fa fa-check"></i><b>12.3</b> Execution</a><ul>
<li class="chapter" data-level="12.3.1" data-path="caution.html"><a href="caution.html#install-drake-properly."><i class="fa fa-check"></i><b>12.3.1</b> Install <code>drake</code> properly.</a></li>
<li class="chapter" data-level="12.3.2" data-path="caution.html"><a href="caution.html#install-all-your-packages."><i class="fa fa-check"></i><b>12.3.2</b> Install all your packages.</a></li>
<li class="chapter" data-level="12.3.3" data-path="caution.html"><a href="caution.html#a-note-on-tidy-evaluation-1"><i class="fa fa-check"></i><b>12.3.3</b> A note on tidy evaluation</a></li>
<li class="chapter" data-level="12.3.4" data-path="caution.html"><a href="caution.html#find-and-diagnose-your-errors."><i class="fa fa-check"></i><b>12.3.4</b> Find and diagnose your errors.</a></li>
<li class="chapter" data-level="12.3.5" data-path="caution.html"><a href="caution.html#refresh-the-drake_config-list-early-and-often."><i class="fa fa-check"></i><b>12.3.5</b> Refresh the <code>drake_config()</code> list early and often.</a></li>
<li class="chapter" data-level="12.3.6" data-path="caution.html"><a href="caution.html#workflows-as-r-packages."><i class="fa fa-check"></i><b>12.3.6</b> Workflows as R packages.</a></li>
<li class="chapter" data-level="12.3.7" data-path="caution.html"><a href="caution.html#the-lazy_load-flag-does-not-work-with-parlapply-parallelism."><i class="fa fa-check"></i><b>12.3.7</b> The <code>lazy_load</code> flag does not work with <code>&quot;parLapply&quot;</code> parallelism.</a></li>
<li class="chapter" data-level="12.3.8" data-path="caution.html"><a href="caution.html#timeouts-may-be-unreliable."><i class="fa fa-check"></i><b>12.3.8</b> Timeouts may be unreliable.</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="caution.html"><a href="caution.html#dependencies"><i class="fa fa-check"></i><b>12.4</b> Dependencies</a><ul>
<li class="chapter" data-level="12.4.1" data-path="caution.html"><a href="caution.html#dependency-objects-containing-functions-may-change-unexpectedly"><i class="fa fa-check"></i><b>12.4.1</b> Dependency objects containing functions may change unexpectedly</a></li>
<li class="chapter" data-level="12.4.2" data-path="caution.html"><a href="caution.html#the-magrittr-dot-.-is-always-ignored."><i class="fa fa-check"></i><b>12.4.2</b> The <code>magrittr</code> dot (<code>.</code>) is always ignored.</a></li>
<li class="chapter" data-level="12.4.3" data-path="caution.html"><a href="caution.html#triggers-and-skipped-imports"><i class="fa fa-check"></i><b>12.4.3</b> Triggers and skipped imports</a></li>
<li class="chapter" data-level="12.4.4" data-path="caution.html"><a href="caution.html#dependencies-are-not-tracked-in-some-edge-cases."><i class="fa fa-check"></i><b>12.4.4</b> Dependencies are not tracked in some edge cases.</a></li>
<li class="chapter" data-level="12.4.5" data-path="caution.html"><a href="caution.html#dependencies-of-knitr-reports"><i class="fa fa-check"></i><b>12.4.5</b> Dependencies of <code>knitr</code> reports</a></li>
<li class="chapter" data-level="12.4.6" data-path="caution.html"><a href="caution.html#knitr-inputs-and-file-outputs-in-imported-functions."><i class="fa fa-check"></i><b>12.4.6</b> Knitr inputs and file outputs in imported functions.</a></li>
<li class="chapter" data-level="12.4.7" data-path="caution.html"><a href="caution.html#functions-produced-by-vectorize"><i class="fa fa-check"></i><b>12.4.7</b> Functions produced by <code>Vectorize()</code></a></li>
<li class="chapter" data-level="12.4.8" data-path="caution.html"><a href="caution.html#compiled-code-is-not-reproducibly-tracked."><i class="fa fa-check"></i><b>12.4.8</b> Compiled code is not reproducibly tracked.</a></li>
<li class="chapter" data-level="12.4.9" data-path="caution.html"><a href="caution.html#directories-folders-are-not-reproducibly-tracked."><i class="fa fa-check"></i><b>12.4.9</b> Directories (folders) are not reproducibly tracked.</a></li>
<li class="chapter" data-level="12.4.10" data-path="caution.html"><a href="caution.html#packages-are-not-tracked-as-dependencies."><i class="fa fa-check"></i><b>12.4.10</b> Packages are not tracked as dependencies.</a></li>
</ul></li>
<li class="chapter" data-level="12.5" data-path="caution.html"><a href="caution.html#high-performance-computing"><i class="fa fa-check"></i><b>12.5</b> High-performance computing</a><ul>
<li class="chapter" data-level="12.5.1" data-path="caution.html"><a href="caution.html#the-practical-utility-of-parallel-computing"><i class="fa fa-check"></i><b>12.5.1</b> The practical utility of parallel computing</a></li>
<li class="chapter" data-level="12.5.2" data-path="caution.html"><a href="caution.html#maximum-number-of-simultaneous-jobs"><i class="fa fa-check"></i><b>12.5.2</b> Maximum number of simultaneous jobs</a></li>
<li class="chapter" data-level="12.5.3" data-path="caution.html"><a href="caution.html#parallel-computing-on-windows"><i class="fa fa-check"></i><b>12.5.3</b> Parallel computing on Windows</a></li>
<li class="chapter" data-level="12.5.4" data-path="caution.html"><a href="caution.html#configuring-futurebatchtools-parallelism-for-clusters"><i class="fa fa-check"></i><b>12.5.4</b> Configuring <a href="https://github.com/HenrikBengtsson/future">future</a>/<a href="https://github.com/mllg/batchtools">batchtools</a> parallelism for clusters</a></li>
<li class="chapter" data-level="12.5.5" data-path="caution.html"><a href="caution.html#proper-makefiles-are-not-standalone."><i class="fa fa-check"></i><b>12.5.5</b> Proper Makefiles are not standalone.</a></li>
<li class="chapter" data-level="12.5.6" data-path="caution.html"><a href="caution.html#makefile-level-parallelism-for-imported-objects-and-files"><i class="fa fa-check"></i><b>12.5.6</b> Makefile-level parallelism for imported objects and files</a></li>
<li class="chapter" data-level="12.5.7" data-path="caution.html"><a href="caution.html#zombie-processes"><i class="fa fa-check"></i><b>12.5.7</b> Zombie processes</a></li>
</ul></li>
<li class="chapter" data-level="12.6" data-path="caution.html"><a href="caution.html#storage"><i class="fa fa-check"></i><b>12.6</b> Storage</a><ul>
<li class="chapter" data-level="12.6.1" data-path="caution.html"><a href="caution.html#projects-hosted-on-dropbox-and-similar-platforms"><i class="fa fa-check"></i><b>12.6.1</b> Projects hosted on Dropbox and similar platforms</a></li>
<li class="chapter" data-level="12.6.2" data-path="caution.html"><a href="caution.html#cache-customization-is-limited"><i class="fa fa-check"></i><b>12.6.2</b> Cache customization is limited</a></li>
<li class="chapter" data-level="12.6.3" data-path="caution.html"><a href="caution.html#runtime-predictions"><i class="fa fa-check"></i><b>12.6.3</b> Runtime predictions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="faq.html"><a href="faq.html"><i class="fa fa-check"></i><b>13</b> Frequently-asked questions</a></li>
<li class="chapter" data-level="14" data-path="results-1.html"><a href="results-1.html"><i class="fa fa-check"></i><b>14</b> Results</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">The User Manual of the drake R Package</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="example-gsp" class="section level1">
<h1><span class="header-section-number">Chapter 4</span> Example: gross state products</h1>
<p>The following data analysis workflow shows off <code>drake</code>’s ability to generate lots of reproducibly-tracked tasks with ease. The same technique would be cumbersome, even intractable, with <a href="https://www.gnu.org/software/make/">GNU Make</a>.</p>
<div id="get-the-code.-1" class="section level2">
<h2><span class="header-section-number">4.1</span> Get the code.</h2>
<p>Write the code files to your workspace.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">drake_example</span>(<span class="st">&quot;gsp&quot;</span>)</code></pre></div>
<p>The new <code>gsp</code> folder now includes a file structure of a serious <code>drake</code> project, plus an <code>interactive-tutorial.R</code> to narrate the example. The code is also <a href="https://github.com/ropensci/drake/tree/master/inst/examples/gsp">online here</a>.</p>
</div>
<div id="objective-and-methods" class="section level2">
<h2><span class="header-section-number">4.2</span> Objective and methods</h2>
<p>The goal is to search for factors closely associated with the productivity of states in the USA around the 1970s and 1980s. For the sake of simplicity, we use gross state product as a metric of productivity, and we restrict ourselves to multiple linear regression models with three variables. For each of the 84 possible models, we fit the data and then evaluate the root mean squared prediction error (RMSPE).</p>
<p><span class="math display">\[
\begin{aligned}
\text{RMSPE} = \sqrt{(\text{y} - \widehat{y})^T(y - \widehat{y})}
\end{aligned}
\]</span> Here, <span class="math inline">\(y\)</span> is the vector of observed gross state products in the data, and <span class="math inline">\(\widehat{y}\)</span> is the vector of predicted gross state products under one of the models. We take the best variables to be the triplet in the model with the lowest RMSPE.</p>
</div>
<div id="data" class="section level2">
<h2><span class="header-section-number">4.3</span> Data</h2>
<p>The <code>Produc</code> dataset from the <a href="https://cran.r-project.org/package=Ecdat">Ecdat package</a> contains data on the Gross State Product from 1970 to 1986. Each row is a single observation on a single state for a single year. The dataset has the following variables as columns. See the references later in this report for more details.</p>
<ul>
<li><code>gsp</code>: gross state product.</li>
<li><code>state</code>: the state.</li>
<li><code>year</code>: the year.</li>
<li><code>pcap</code>: private capital stock.</li>
<li><code>hwy</code>: highway and streets.</li>
<li><code>water</code>: water and sewer facilities.</li>
<li><code>util</code>: other public buildings and structures.</li>
<li><code>pc</code>: public capital.</li>
<li><code>emp</code>: labor input measured by the employment in non-agricultural payrolls.</li>
<li><code>unemp</code>: state unemployment rate.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(Ecdat)
<span class="kw">data</span>(Produc)
<span class="kw">head</span>(Produc)
##     state year     pcap     hwy   water    util       pc   gsp    emp
## 1 ALABAMA 1970 15032.67 7325.80 1655.68 6051.20 35793.80 28418 1010.5
## 2 ALABAMA 1971 15501.94 7525.94 1721.02 6254.98 37299.91 29375 1021.9
## 3 ALABAMA 1972 15972.41 7765.42 1764.75 6442.23 38670.30 31303 1072.3
## 4 ALABAMA 1973 16406.26 7907.66 1742.41 6756.19 40084.01 33430 1135.5
## 5 ALABAMA 1974 16762.67 8025.52 1734.85 7002.29 42057.31 33749 1169.8
## 6 ALABAMA 1975 17316.26 8158.23 1752.27 7405.76 43971.71 33604 1155.4
##   unemp
## 1   4.7
## 2   5.2
## 3   4.7
## 4   3.9
## 5   5.5
## 6   7.7</code></pre></div>
</div>
<div id="analysis-1" class="section level2">
<h2><span class="header-section-number">4.4</span> Analysis</h2>
<p>First, we load the required packages. <code>Drake</code> is aware of all the packages you load with <code>library()</code> or <code>require()</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(drake)
<span class="kw">library</span>(Ecdat) <span class="co"># econometrics datasets</span>
<span class="kw">library</span>(knitr)
<span class="kw">library</span>(ggplot2)</code></pre></div>
<p>Next, set up our workflow plan data frame in stages. We start with the models. Each model has 3 predictors, and we try all 84 possible models.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">predictors &lt;-<span class="st"> </span><span class="kw">setdiff</span>(<span class="kw">colnames</span>(Produc), <span class="st">&quot;gsp&quot;</span>)
combos &lt;-<span class="st"> </span><span class="kw">t</span>(<span class="kw">combn</span>(predictors, <span class="dv">3</span>))
<span class="kw">head</span>(combos)
##      [,1]    [,2]   [,3]   
## [1,] &quot;state&quot; &quot;year&quot; &quot;pcap&quot; 
## [2,] &quot;state&quot; &quot;year&quot; &quot;hwy&quot;  
## [3,] &quot;state&quot; &quot;year&quot; &quot;water&quot;
## [4,] &quot;state&quot; &quot;year&quot; &quot;util&quot; 
## [5,] &quot;state&quot; &quot;year&quot; &quot;pc&quot;   
## [6,] &quot;state&quot; &quot;year&quot; &quot;emp&quot;
targets &lt;-<span class="st"> </span><span class="kw">apply</span>(combos, <span class="dv">1</span>, paste, <span class="dt">collapse =</span> <span class="st">&quot;_&quot;</span>)
commands &lt;-<span class="st"> </span><span class="kw">apply</span>(combos, <span class="dv">1</span>, <span class="cf">function</span>(row){
  covariates &lt;-<span class="st"> </span><span class="kw">paste</span>(row, <span class="dt">collapse =</span> <span class="st">&quot; + &quot;</span>)
  formula &lt;-<span class="st"> </span><span class="kw">paste0</span>(<span class="st">&quot;as.formula(</span><span class="ch">\&quot;</span><span class="st">gsp ~ &quot;</span>, covariates, <span class="st">&quot;</span><span class="ch">\&quot;</span><span class="st">)&quot;</span>)
  command &lt;-<span class="st"> </span><span class="kw">paste0</span>(<span class="st">&quot;lm(&quot;</span>, formula, <span class="st">&quot;, data = Produc)&quot;</span>)
})
model_plan &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">target =</span> targets, <span class="dt">command =</span> commands)

<span class="kw">head</span>(model_plan)
##             target
## 1  state_year_pcap
## 2   state_year_hwy
## 3 state_year_water
## 4  state_year_util
## 5    state_year_pc
## 6   state_year_emp
##                                                       command
## 1  lm(as.formula(&quot;gsp ~ state + year + pcap&quot;), data = Produc)
## 2   lm(as.formula(&quot;gsp ~ state + year + hwy&quot;), data = Produc)
## 3 lm(as.formula(&quot;gsp ~ state + year + water&quot;), data = Produc)
## 4  lm(as.formula(&quot;gsp ~ state + year + util&quot;), data = Produc)
## 5    lm(as.formula(&quot;gsp ~ state + year + pc&quot;), data = Produc)
## 6   lm(as.formula(&quot;gsp ~ state + year + emp&quot;), data = Produc)</code></pre></div>
<p>Next, we make a plan to judge each model based on its root mean squared prediction error (RMSPE).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">commands &lt;-<span class="st"> </span><span class="kw">paste0</span>(<span class="st">&quot;get_rmspe(&quot;</span>, targets, <span class="st">&quot;, data = Produc)&quot;</span>)
targets &lt;-<span class="st"> </span><span class="kw">paste0</span>(<span class="st">&quot;rmspe_&quot;</span>, targets)
rmspe_plan &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">target =</span> targets, <span class="dt">command =</span> commands)

<span class="kw">head</span>(rmspe_plan)
##                   target                                    command
## 1  rmspe_state_year_pcap  get_rmspe(state_year_pcap, data = Produc)
## 2   rmspe_state_year_hwy   get_rmspe(state_year_hwy, data = Produc)
## 3 rmspe_state_year_water get_rmspe(state_year_water, data = Produc)
## 4  rmspe_state_year_util  get_rmspe(state_year_util, data = Produc)
## 5    rmspe_state_year_pc    get_rmspe(state_year_pc, data = Produc)
## 6   rmspe_state_year_emp   get_rmspe(state_year_emp, data = Produc)</code></pre></div>
<p>We need to define a function to get the RMSPE for each model.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">get_rmspe &lt;-<span class="st"> </span><span class="cf">function</span>(lm_fit, data){
  y &lt;-<span class="st"> </span>data<span class="op">$</span>gsp
  yhat &lt;-<span class="st"> </span><span class="kw">predict</span>(lm_fit, <span class="dt">data =</span> data)
  terms &lt;-<span class="st"> </span><span class="kw">attr</span>(<span class="kw">summary</span>(lm_fit)<span class="op">$</span>terms, <span class="st">&quot;term.labels&quot;</span>)
  <span class="kw">data.frame</span>(
    <span class="dt">rmspe =</span> <span class="kw">sqrt</span>(<span class="kw">mean</span>((y <span class="op">-</span><span class="st"> </span>yhat)<span class="op">^</span><span class="dv">2</span>)), <span class="co"># nolint</span>
    <span class="dt">X1 =</span> terms[<span class="dv">1</span>],
    <span class="dt">X2 =</span> terms[<span class="dv">2</span>],
    <span class="dt">X3 =</span> terms[<span class="dv">3</span>]
  )
}</code></pre></div>
<p>In our current plan, RMSPE is distributed over 84 targets (one for each model). Let’s plan to combine them all together in a single data frame.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">rmspe_results_plan &lt;-<span class="st"> </span><span class="kw">gather_plan</span>(
  <span class="dt">plan =</span> rmspe_plan,
  <span class="dt">target =</span> <span class="st">&quot;rmspe&quot;</span>,
  <span class="dt">gather =</span> <span class="st">&quot;rbind&quot;</span>
)</code></pre></div>
<p>At the end, let’s generate a pdf plot of the RMSPE scores and a <a href="https://yihui.name/knitr/">knitr</a> report.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">output_plan &lt;-<span class="st"> </span><span class="kw">drake_plan</span>(
  <span class="kw">ggsave</span>(
    <span class="dt">filename =</span> <span class="kw">file_out</span>(<span class="st">&quot;rmspe.pdf&quot;</span>),
    <span class="dt">plot =</span> <span class="kw">plot_rmspe</span>(rmspe)
  ),
  <span class="kw">knit</span>(<span class="kw">knitr_in</span>(<span class="st">&quot;report.Rmd&quot;</span>), <span class="kw">file_out</span>(<span class="st">&quot;report.md&quot;</span>), <span class="dt">quiet =</span> <span class="ot">TRUE</span>)
)
## Warning: knitr/rmarkdown report &#39;report.Rmd&#39; does not exist and cannot be
## inspected for dependencies.

<span class="kw">head</span>(output_plan)
## # A tibble: 2 x 2
##   target          command                                                 
##   &lt;chr&gt;           &lt;chr&gt;                                                   
## 1 &quot;\&quot;rmspe.pdf\&quot;&quot; &quot;ggsave(filename = file_out(\&quot;rmspe.pdf\&quot;), plot = plot…
## 2 &quot;\&quot;report.md\&quot;&quot; &quot;knit(knitr_in(\&quot;report.Rmd\&quot;), file_out(\&quot;report.md\&quot;)…</code></pre></div>
<p>We see warnings above because our R Markdown report <code>report.Rmd</code> does not exist yet. You can find it <a href="https://github.com/ropensci/drake/blob/master/inst/examples/gsp/report.Rmd">here</a>, and the code below generates it.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">local &lt;-<span class="st"> </span><span class="kw">file.path</span>(<span class="st">&quot;examples&quot;</span>, <span class="st">&quot;gsp&quot;</span>, <span class="st">&quot;report.Rmd&quot;</span>)
path &lt;-<span class="st"> </span><span class="kw">system.file</span>(<span class="dt">path =</span> local, <span class="dt">package =</span> <span class="st">&quot;drake&quot;</span>, <span class="dt">mustWork =</span> <span class="ot">TRUE</span>)
<span class="kw">file.copy</span>(<span class="dt">from =</span> path, <span class="dt">to =</span> <span class="st">&quot;report.Rmd&quot;</span>, <span class="dt">overwrite =</span> <span class="ot">TRUE</span>)
## [1] TRUE</code></pre></div>
<p>At this point, we can gather together the whole workflow plan.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">whole_plan &lt;-<span class="st"> </span><span class="kw">rbind</span>(model_plan, rmspe_plan, rmspe_results_plan, output_plan)</code></pre></div>
<p>Before we run the project, we need to define the <code>plot_rmspe()</code> function.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">plot_rmspe &lt;-<span class="st"> </span><span class="cf">function</span>(rmspe){
  <span class="kw">ggplot</span>(rmspe) <span class="op">+</span>
<span class="st">    </span><span class="kw">geom_histogram</span>(<span class="kw">aes</span>(<span class="dt">x =</span> rmspe), <span class="dt">bins =</span> <span class="dv">30</span>)
}</code></pre></div>
<p>Now, we can run the project</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">make</span>(whole_plan, <span class="dt">verbose =</span> <span class="ot">FALSE</span>)
## Saving 6 x 6 in image</code></pre></div>
</div>
<div id="results" class="section level2">
<h2><span class="header-section-number">4.5</span> Results</h2>
<p>Here are the root mean squared prediction errors of all the models.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">results &lt;-<span class="st"> </span><span class="kw">readd</span>(rmspe)

<span class="kw">loadd</span>(plot_rmspe)

<span class="kw">library</span>(ggplot2)
<span class="kw">plot_rmspe</span>(<span class="dt">rmspe =</span> results)</code></pre></div>
<p><img src="drake-manual_files/figure-html/masterrmspeplot-1.png" width="576" style="display: block; margin: auto;" /></p>
<p>And here are the best models. The best variables are in the top row under <code>X1</code>, <code>X2</code>, and <code>X3</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(results[<span class="kw">order</span>(results<span class="op">$</span>rmspe, <span class="dt">decreasing =</span> <span class="ot">FALSE</span>), ])
##                          rmspe    X1    X2    X3
## rmspe_state_hwy_emp   2613.669 state   hwy   emp
## rmspe_state_water_emp 2664.842 state water   emp
## rmspe_state_util_emp  2665.744 state  util   emp
## rmspe_state_pc_emp    2666.058 state    pc   emp
## rmspe_state_pcap_emp  2675.336 state  pcap   emp
## rmspe_state_emp_unemp 2692.687 state   emp unemp</code></pre></div>
</div>
<div id="comparison-with-gnu-make" class="section level2">
<h2><span class="header-section-number">4.6</span> Comparison with GNU Make</h2>
<p>If we were using <a href="https://www.gnu.org/software/make/">Make</a> instead of <code>drake</code> with the same set of targets, the analogous <a href="https://www.gnu.org/software/make/">Makefile</a> would look something like this pseudo-code sketch.</p>
<pre><code>models = model_state_year_pcap.rds model_state_year_hwy.rds ... # 84 of these

model_%
    Rscript -e 'saveRDS(lm(...), ...)'

rmspe_%: model_%
    Rscript -e 'saveRDS(get_rmspe(...), ...)'

rmspe.rds: rmspe_%
    Rscript -e 'saveRDS(rbind(...), ...)'

rmspe.pdf: rmspe.rds
    Rscript -e 'ggplot2::ggsave(plot_rmspe(readRDS("rmspe.rds")), "rmspe.pdf")'

report.md: report.Rmd
    Rscript -e 'knitr::knit("report.Rmd")'
</code></pre>
<p>There are three main disadvantages to this approach.</p>
<ol style="list-style-type: decimal">
<li>Every target requires a new call to <code>Rscript</code>, which means that more time is spent initializing R sessions than doing the actual work.</li>
<li>The user must micromanage nearly one hundred output files (in this case, <code>*.rds</code> files), which is cumbersome, messy, and inconvenient. <code>Drake</code>, on the other hand, automatically manages storage using a <a href="https://github.com/richfitz/storr">storr cache</a>.</li>
<li>The user needs to write the names of the 84 <code>models</code> near the top of the <code>Makefile</code>, which is less convenient than maintaining a data frame in R.</li>
</ol>
</div>
<div id="references" class="section level2">
<h2><span class="header-section-number">4.7</span> References</h2>
<ul>
<li>Baltagi, Badi H (2003). Econometric analysis of panel data, John Wiley and sons, <a href="http://www.wiley.com/legacy/wileychi/baltagi/" class="uri">http://www.wiley.com/legacy/wileychi/baltagi/</a>.</li>
<li>Baltagi, B. H. and N. Pinnoi (1995). “Public capital stock and state productivity growth: further evidence”, Empirical Economics, 20, 351-359.</li>
<li>Munnell, A. (1990). “Why has productivity growth declined? Productivity and public investment”“, New England Economic Review, 3-22.</li>
<li>Yves Croissant (2016). Ecdat: Data Sets for Econometrics. R package version 0.3-1. <a href="https://CRAN.R-project.org/package=Ecdat" class="uri">https://CRAN.R-project.org/package=Ecdat</a>.</li>
</ul>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="example-packages.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="mtcars.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
