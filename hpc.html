<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>The drake R Package User Manual</title>
  <meta name="description" content="The drake R Package User Manual">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="The drake R Package User Manual" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="The drake R Package User Manual" />
  
  
  

<meta name="author" content="Will Landau, Kirill Müller, Alex Axthelm, Jasper Clarkberg, Lorenz Walthert">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="debug.html">
<link rel="next" href="triggers.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/htmlwidgets-1.2/htmlwidgets.js"></script>
<link href="libs/vis-4.20.1/vis.css" rel="stylesheet" />
<script src="libs/vis-4.20.1/vis.min.js"></script>
<script src="libs/visNetwork-binding-2.0.4/visNetwork.js"></script>
<script src="libs/d3-4.5.0/d3.min.js"></script>
<script src="libs/sankey-1/sankey.js"></script>
<script src="libs/sankeyNetwork-binding-0.4/sankeyNetwork.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#the-drake-r-package"><i class="fa fa-check"></i><b>1.1</b> The drake R package</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#installation"><i class="fa fa-check"></i><b>1.2</b> Installation</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#why-drake"><i class="fa fa-check"></i><b>1.3</b> Why drake?</a><ul>
<li class="chapter" data-level="1.3.1" data-path="index.html"><a href="index.html#what-gets-done-stays-done."><i class="fa fa-check"></i><b>1.3.1</b> What gets done stays done.</a></li>
<li class="chapter" data-level="1.3.2" data-path="index.html"><a href="index.html#reproducibility-with-confidence"><i class="fa fa-check"></i><b>1.3.2</b> Reproducibility with confidence</a></li>
<li class="chapter" data-level="1.3.3" data-path="index.html"><a href="index.html#aggressively-scale-up."><i class="fa fa-check"></i><b>1.3.3</b> Aggressively scale up.</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#documentation"><i class="fa fa-check"></i><b>1.4</b> Documentation</a><ul>
<li class="chapter" data-level="1.4.1" data-path="index.html"><a href="index.html#cheat-sheet"><i class="fa fa-check"></i><b>1.4.1</b> Cheat sheet</a></li>
<li class="chapter" data-level="1.4.2" data-path="index.html"><a href="index.html#frequently-asked-questions"><i class="fa fa-check"></i><b>1.4.2</b> Frequently asked questions</a></li>
<li class="chapter" data-level="1.4.3" data-path="index.html"><a href="index.html#function-reference"><i class="fa fa-check"></i><b>1.4.3</b> Function reference</a></li>
<li class="chapter" data-level="1.4.4" data-path="index.html"><a href="index.html#tutorials"><i class="fa fa-check"></i><b>1.4.4</b> Tutorials</a></li>
<li class="chapter" data-level="1.4.5" data-path="index.html"><a href="index.html#examples"><i class="fa fa-check"></i><b>1.4.5</b> Examples</a></li>
<li class="chapter" data-level="1.4.6" data-path="index.html"><a href="index.html#presentations"><i class="fa fa-check"></i><b>1.4.6</b> Presentations</a></li>
<li class="chapter" data-level="1.4.7" data-path="index.html"><a href="index.html#real-example-projects"><i class="fa fa-check"></i><b>1.4.7</b> Real example projects</a></li>
<li class="chapter" data-level="1.4.8" data-path="index.html"><a href="index.html#context-and-history"><i class="fa fa-check"></i><b>1.4.8</b> Context and history</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#help-and-troubleshooting"><i class="fa fa-check"></i><b>1.5</b> Help and troubleshooting</a></li>
<li class="chapter" data-level="1.6" data-path="index.html"><a href="index.html#similar-work"><i class="fa fa-check"></i><b>1.6</b> Similar work</a><ul>
<li class="chapter" data-level="1.6.1" data-path="index.html"><a href="index.html#gnu-make"><i class="fa fa-check"></i><b>1.6.1</b> GNU Make</a></li>
<li class="chapter" data-level="1.6.2" data-path="index.html"><a href="index.html#remake"><i class="fa fa-check"></i><b>1.6.2</b> Remake</a></li>
<li class="chapter" data-level="1.6.3" data-path="index.html"><a href="index.html#memoise"><i class="fa fa-check"></i><b>1.6.3</b> Memoise</a></li>
<li class="chapter" data-level="1.6.4" data-path="index.html"><a href="index.html#knitr-and-r-markdown"><i class="fa fa-check"></i><b>1.6.4</b> Knitr and R Markdown</a></li>
<li class="chapter" data-level="1.6.5" data-path="index.html"><a href="index.html#factuals-drake"><i class="fa fa-check"></i><b>1.6.5</b> Factual’s Drake</a></li>
<li class="chapter" data-level="1.6.6" data-path="index.html"><a href="index.html#other-pipeline-toolkits"><i class="fa fa-check"></i><b>1.6.6</b> Other pipeline toolkits</a></li>
</ul></li>
<li class="chapter" data-level="1.7" data-path="index.html"><a href="index.html#acknowledgements"><i class="fa fa-check"></i><b>1.7</b> Acknowledgements</a></li>
</ul></li>
<li class="part"><span><b>I Examples</b></span></li>
<li class="chapter" data-level="2" data-path="main.html"><a href="main.html"><i class="fa fa-check"></i><b>2</b> The main example</a><ul>
<li class="chapter" data-level="2.1" data-path="main.html"><a href="main.html#set-the-stage."><i class="fa fa-check"></i><b>2.1</b> Set the stage.</a></li>
<li class="chapter" data-level="2.2" data-path="main.html"><a href="main.html#make-your-results."><i class="fa fa-check"></i><b>2.2</b> Make your results.</a></li>
<li class="chapter" data-level="2.3" data-path="main.html"><a href="main.html#go-back-and-fix-things."><i class="fa fa-check"></i><b>2.3</b> Go back and fix things.</a></li>
<li class="chapter" data-level="2.4" data-path="main.html"><a href="main.html#try-it-yourself"><i class="fa fa-check"></i><b>2.4</b> Try it yourself!</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="packages.html"><a href="packages.html"><i class="fa fa-check"></i><b>3</b> An analysis of R package download trends</a><ul>
<li class="chapter" data-level="3.1" data-path="packages.html"><a href="packages.html#get-the-code."><i class="fa fa-check"></i><b>3.1</b> Get the code.</a></li>
<li class="chapter" data-level="3.2" data-path="packages.html"><a href="packages.html#overview"><i class="fa fa-check"></i><b>3.2</b> Overview</a></li>
<li class="chapter" data-level="3.3" data-path="packages.html"><a href="packages.html#analysis"><i class="fa fa-check"></i><b>3.3</b> Analysis</a></li>
<li class="chapter" data-level="3.4" data-path="packages.html"><a href="packages.html#other-ways-to-trigger-downloads"><i class="fa fa-check"></i><b>3.4</b> Other ways to trigger downloads</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="gsp.html"><a href="gsp.html"><i class="fa fa-check"></i><b>4</b> Finding the best model of gross state product</a><ul>
<li class="chapter" data-level="4.1" data-path="gsp.html"><a href="gsp.html#get-the-code.-1"><i class="fa fa-check"></i><b>4.1</b> Get the code.</a></li>
<li class="chapter" data-level="4.2" data-path="gsp.html"><a href="gsp.html#objective-and-methods"><i class="fa fa-check"></i><b>4.2</b> Objective and methods</a></li>
<li class="chapter" data-level="4.3" data-path="gsp.html"><a href="gsp.html#data"><i class="fa fa-check"></i><b>4.3</b> Data</a></li>
<li class="chapter" data-level="4.4" data-path="gsp.html"><a href="gsp.html#analysis-1"><i class="fa fa-check"></i><b>4.4</b> Analysis</a></li>
<li class="chapter" data-level="4.5" data-path="gsp.html"><a href="gsp.html#results"><i class="fa fa-check"></i><b>4.5</b> Results</a></li>
<li class="chapter" data-level="4.6" data-path="gsp.html"><a href="gsp.html#comparison-with-gnu-make"><i class="fa fa-check"></i><b>4.6</b> Comparison with GNU Make</a></li>
<li class="chapter" data-level="4.7" data-path="gsp.html"><a href="gsp.html#references"><i class="fa fa-check"></i><b>4.7</b> References</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="mtcars.html"><a href="mtcars.html"><i class="fa fa-check"></i><b>5</b> The mtcars example and workflow plan generation</a><ul>
<li class="chapter" data-level="5.1" data-path="mtcars.html"><a href="mtcars.html#get-the-code.-2"><i class="fa fa-check"></i><b>5.1</b> Get the code.</a></li>
<li class="chapter" data-level="5.2" data-path="mtcars.html"><a href="mtcars.html#quick-examples"><i class="fa fa-check"></i><b>5.2</b> Quick examples</a></li>
<li class="chapter" data-level="5.3" data-path="mtcars.html"><a href="mtcars.html#the-motivation-of-the-mtcars-example"><i class="fa fa-check"></i><b>5.3</b> The motivation of the mtcars example</a></li>
<li class="chapter" data-level="5.4" data-path="mtcars.html"><a href="mtcars.html#set-up-the-mtcars-example"><i class="fa fa-check"></i><b>5.4</b> Set up the mtcars example</a></li>
<li class="chapter" data-level="5.5" data-path="mtcars.html"><a href="mtcars.html#the-workflow-plan-data-frame"><i class="fa fa-check"></i><b>5.5</b> The workflow plan data frame</a></li>
<li class="chapter" data-level="5.6" data-path="mtcars.html"><a href="mtcars.html#generate-the-workflow-plan"><i class="fa fa-check"></i><b>5.6</b> Generate the workflow plan</a></li>
<li class="chapter" data-level="5.7" data-path="mtcars.html"><a href="mtcars.html#flexible-workflow-plan-generation"><i class="fa fa-check"></i><b>5.7</b> Flexible workflow plan generation</a></li>
<li class="chapter" data-level="5.8" data-path="mtcars.html"><a href="mtcars.html#run-the-workflow"><i class="fa fa-check"></i><b>5.8</b> Run the workflow</a></li>
<li class="chapter" data-level="5.9" data-path="mtcars.html"><a href="mtcars.html#automatic-watching-for-changed-dependencies"><i class="fa fa-check"></i><b>5.9</b> Automatic watching for changed dependencies</a></li>
<li class="chapter" data-level="5.10" data-path="mtcars.html"><a href="mtcars.html#a-note-on-tidy-evaluation"><i class="fa fa-check"></i><b>5.10</b> A note on tidy evaluation</a></li>
<li class="chapter" data-level="5.11" data-path="mtcars.html"><a href="mtcars.html#need-more-speed"><i class="fa fa-check"></i><b>5.11</b> Need more speed?</a></li>
</ul></li>
<li class="part"><span><b>II Functionality</b></span></li>
<li class="chapter" data-level="6" data-path="plans.html"><a href="plans.html"><i class="fa fa-check"></i><b>6</b> Workflow data frames</a><ul>
<li class="chapter" data-level="6.1" data-path="plans.html"><a href="plans.html#what-is-a-workflow-plan-data-frame"><i class="fa fa-check"></i><b>6.1</b> What is a workflow plan data frame?</a></li>
<li class="chapter" data-level="6.2" data-path="plans.html"><a href="plans.html#rationale"><i class="fa fa-check"></i><b>6.2</b> Rationale</a><ul>
<li class="chapter" data-level="6.2.1" data-path="plans.html"><a href="plans.html#you-can-skip-up-to-date-work."><i class="fa fa-check"></i><b>6.2.1</b> You can skip up-to-date work.</a></li>
<li class="chapter" data-level="6.2.2" data-path="plans.html"><a href="plans.html#data-frames-scale-well."><i class="fa fa-check"></i><b>6.2.2</b> Data frames scale well.</a></li>
<li class="chapter" data-level="6.2.3" data-path="plans.html"><a href="plans.html#you-do-not-need-to-worry-about-which-targets-run-first."><i class="fa fa-check"></i><b>6.2.3</b> You do not need to worry about which targets run first.</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="plans.html"><a href="plans.html#automatic-dependency-detection"><i class="fa fa-check"></i><b>6.3</b> Automatic dependency detection</a></li>
<li class="chapter" data-level="6.4" data-path="plans.html"><a href="plans.html#generating-large-workflow-plans"><i class="fa fa-check"></i><b>6.4</b> Generating large workflow plans</a><ul>
<li class="chapter" data-level="6.4.1" data-path="plans.html"><a href="plans.html#wildcard-templating"><i class="fa fa-check"></i><b>6.4.1</b> Wildcard templating</a></li>
<li class="chapter" data-level="6.4.2" data-path="plans.html"><a href="plans.html#wildcard-clusters"><i class="fa fa-check"></i><b>6.4.2</b> Wildcard clusters</a></li>
<li class="chapter" data-level="6.4.3" data-path="plans.html"><a href="plans.html#specialized-wildcard-functionality"><i class="fa fa-check"></i><b>6.4.3</b> Specialized wildcard functionality</a></li>
<li class="chapter" data-level="6.4.4" data-path="plans.html"><a href="plans.html#non-wildcard-functions"><i class="fa fa-check"></i><b>6.4.4</b> Non-wildcard functions</a></li>
<li class="chapter" data-level="6.4.5" data-path="plans.html"><a href="plans.html#custom-metaprogramming"><i class="fa fa-check"></i><b>6.4.5</b> Custom metaprogramming</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="plans.html"><a href="plans.html#optional-columns-in-your-plan."><i class="fa fa-check"></i><b>6.5</b> Optional columns in your plan.</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="organize.html"><a href="organize.html"><i class="fa fa-check"></i><b>7</b> How to organize the files of drake projects</a><ul>
<li class="chapter" data-level="7.1" data-path="organize.html"><a href="organize.html#examples-1"><i class="fa fa-check"></i><b>7.1</b> Examples</a></li>
<li class="chapter" data-level="7.2" data-path="organize.html"><a href="organize.html#where-do-you-put-your-code"><i class="fa fa-check"></i><b>7.2</b> Where do you put your code?</a></li>
<li class="chapter" data-level="7.3" data-path="organize.html"><a href="organize.html#your-commands-are-code-chunks-not-r-scripts"><i class="fa fa-check"></i><b>7.3</b> Your commands are code chunks, not R scripts</a></li>
<li class="chapter" data-level="7.4" data-path="organize.html"><a href="organize.html#workflows-as-r-packages"><i class="fa fa-check"></i><b>7.4</b> Workflows as R packages</a><ul>
<li class="chapter" data-level="7.4.1" data-path="organize.html"><a href="organize.html#advantages-of-putting-workflows-in-r-packages"><i class="fa fa-check"></i><b>7.4.1</b> Advantages of putting workflows in R packages</a></li>
<li class="chapter" data-level="7.4.2" data-path="organize.html"><a href="organize.html#the-problem"><i class="fa fa-check"></i><b>7.4.2</b> The problem</a></li>
<li class="chapter" data-level="7.4.3" data-path="organize.html"><a href="organize.html#the-solution"><i class="fa fa-check"></i><b>7.4.3</b> The solution</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="vis.html"><a href="vis.html"><i class="fa fa-check"></i><b>8</b> Visualization with drake</a><ul>
<li class="chapter" data-level="8.0.1" data-path="vis.html"><a href="vis.html#vis_drake_graph"><i class="fa fa-check"></i><b>8.0.1</b> <code>vis_drake_graph()</code></a></li>
<li class="chapter" data-level="8.0.2" data-path="vis.html"><a href="vis.html#sankey_drake_graph"><i class="fa fa-check"></i><b>8.0.2</b> <code>sankey_drake_graph()</code></a></li>
<li class="chapter" data-level="8.0.3" data-path="vis.html"><a href="vis.html#drake_ggraph"><i class="fa fa-check"></i><b>8.0.3</b> <code>drake_ggraph()</code></a></li>
<li class="chapter" data-level="8.1" data-path="vis.html"><a href="vis.html#underlying-graph-data-node-and-edge-data-frames"><i class="fa fa-check"></i><b>8.1</b> Underlying graph data: node and edge data frames</a></li>
<li class="chapter" data-level="8.2" data-path="vis.html"><a href="vis.html#visualizing-target-status"><i class="fa fa-check"></i><b>8.2</b> Visualizing target status</a></li>
<li class="chapter" data-level="8.3" data-path="vis.html"><a href="vis.html#subgraphs"><i class="fa fa-check"></i><b>8.3</b> Subgraphs</a></li>
<li class="chapter" data-level="8.4" data-path="vis.html"><a href="vis.html#control-the-vis_drake_graph-legend."><i class="fa fa-check"></i><b>8.4</b> Control the <code>vis_drake_graph()</code> legend.</a></li>
<li class="chapter" data-level="8.5" data-path="vis.html"><a href="vis.html#clusters"><i class="fa fa-check"></i><b>8.5</b> Clusters</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="debug.html"><a href="debug.html"><i class="fa fa-check"></i><b>9</b> Debugging and testing drake projects</a><ul>
<li class="chapter" data-level="9.1" data-path="debug.html"><a href="debug.html#the-configuration-list"><i class="fa fa-check"></i><b>9.1</b> The configuration list</a></li>
<li class="chapter" data-level="9.2" data-path="debug.html"><a href="debug.html#plan-your-work."><i class="fa fa-check"></i><b>9.2</b> Plan your work.</a><ul>
<li class="chapter" data-level="9.2.1" data-path="debug.html"><a href="debug.html#workflow-plan-data-frames"><i class="fa fa-check"></i><b>9.2.1</b> Workflow plan data frames</a></li>
<li class="chapter" data-level="9.2.2" data-path="debug.html"><a href="debug.html#visualize-your-workflow."><i class="fa fa-check"></i><b>9.2.2</b> Visualize your workflow.</a></li>
<li class="chapter" data-level="9.2.3" data-path="debug.html"><a href="debug.html#check-dependency-relationships."><i class="fa fa-check"></i><b>9.2.3</b> Check dependency relationships.</a></li>
<li class="chapter" data-level="9.2.4" data-path="debug.html"><a href="debug.html#outdated-up-to-date-and-missing-items"><i class="fa fa-check"></i><b>9.2.4</b> Outdated, up to date, and missing items</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="debug.html"><a href="debug.html#skipping-imports"><i class="fa fa-check"></i><b>9.3</b> Skipping imports</a></li>
<li class="chapter" data-level="9.4" data-path="debug.html"><a href="debug.html#impose-timeouts-and-retries"><i class="fa fa-check"></i><b>9.4</b> Impose timeouts and retries</a></li>
<li class="chapter" data-level="9.5" data-path="debug.html"><a href="debug.html#diagnose-failures."><i class="fa fa-check"></i><b>9.5</b> Diagnose failures.</a><ul>
<li class="chapter" data-level="9.5.1" data-path="debug.html"><a href="debug.html#tidy-evaluation-a-caveat-to-diagnosing-interactively"><i class="fa fa-check"></i><b>9.5.1</b> Tidy evaluation: a caveat to diagnosing interactively</a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="debug.html"><a href="debug.html#debrief-a-build-session."><i class="fa fa-check"></i><b>9.6</b> Debrief a build session.</a></li>
<li class="chapter" data-level="9.7" data-path="debug.html"><a href="debug.html#start-tinkering."><i class="fa fa-check"></i><b>9.7</b> Start tinkering.</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="hpc.html"><a href="hpc.html"><i class="fa fa-check"></i><b>10</b> High-performance computing with drake</a><ul>
<li class="chapter" data-level="10.1" data-path="hpc.html"><a href="hpc.html#batch-mode-for-long-workflows"><i class="fa fa-check"></i><b>10.1</b> Batch mode for long workflows</a></li>
<li class="chapter" data-level="10.2" data-path="hpc.html"><a href="hpc.html#let-drake-schedule-your-targets."><i class="fa fa-check"></i><b>10.2</b> Let drake schedule your targets.</a></li>
<li class="chapter" data-level="10.3" data-path="hpc.html"><a href="hpc.html#parallel-backends"><i class="fa fa-check"></i><b>10.3</b> Parallel backends</a></li>
<li class="chapter" data-level="10.4" data-path="hpc.html"><a href="hpc.html#local-workers"><i class="fa fa-check"></i><b>10.4</b> Local workers</a></li>
<li class="chapter" data-level="10.5" data-path="hpc.html"><a href="hpc.html#remote-workers"><i class="fa fa-check"></i><b>10.5</b> Remote workers</a><ul>
<li class="chapter" data-level="10.5.1" data-path="hpc.html"><a href="hpc.html#future-future_lapply-and-future_lapply_staged"><i class="fa fa-check"></i><b>10.5.1</b> <code>&quot;future&quot;</code>, <code>&quot;future_lapply&quot;</code>, and <code>&quot;future_lapply_staged&quot;</code></a></li>
<li class="chapter" data-level="10.5.2" data-path="hpc.html"><a href="hpc.html#clustermq_staged"><i class="fa fa-check"></i><b>10.5.2</b> <code>&quot;clustermq_staged&quot;</code></a></li>
<li class="chapter" data-level="10.5.3" data-path="hpc.html"><a href="hpc.html#makefile"><i class="fa fa-check"></i><b>10.5.3</b> <code>&quot;Makefile&quot;</code></a></li>
</ul></li>
<li class="chapter" data-level="10.6" data-path="hpc.html"><a href="hpc.html#scheduling-algorithms"><i class="fa fa-check"></i><b>10.6</b> Scheduling algorithms</a><ul>
<li class="chapter" data-level="10.6.1" data-path="hpc.html"><a href="hpc.html#persistent-scheduling"><i class="fa fa-check"></i><b>10.6.1</b> Persistent scheduling</a></li>
<li class="chapter" data-level="10.6.2" data-path="hpc.html"><a href="hpc.html#transient-scheduling"><i class="fa fa-check"></i><b>10.6.2</b> Transient scheduling</a></li>
<li class="chapter" data-level="10.6.3" data-path="hpc.html"><a href="hpc.html#staged-scheduling"><i class="fa fa-check"></i><b>10.6.3</b> Staged scheduling</a></li>
</ul></li>
<li class="chapter" data-level="10.7" data-path="hpc.html"><a href="hpc.html#final-thoughts"><i class="fa fa-check"></i><b>10.7</b> Final thoughts</a><ul>
<li class="chapter" data-level="10.7.1" data-path="hpc.html"><a href="hpc.html#debugging"><i class="fa fa-check"></i><b>10.7.1</b> Debugging</a></li>
<li class="chapter" data-level="10.7.2" data-path="hpc.html"><a href="hpc.html#drake-as-an-ordinary-job-scheduler"><i class="fa fa-check"></i><b>10.7.2</b> Drake as an ordinary job scheduler</a></li>
<li class="chapter" data-level="10.7.3" data-path="hpc.html"><a href="hpc.html#more-resources"><i class="fa fa-check"></i><b>10.7.3</b> More resources</a></li>
</ul></li>
<li class="chapter" data-level="10.8" data-path="hpc.html"><a href="hpc.html#footnotes"><i class="fa fa-check"></i><b>10.8</b> Footnotes</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="triggers.html"><a href="triggers.html"><i class="fa fa-check"></i><b>11</b> Triggers: decision rules for building targets</a><ul>
<li class="chapter" data-level="11.1" data-path="triggers.html"><a href="triggers.html#what-are-triggers"><i class="fa fa-check"></i><b>11.1</b> What are triggers?</a></li>
<li class="chapter" data-level="11.2" data-path="triggers.html"><a href="triggers.html#customization"><i class="fa fa-check"></i><b>11.2</b> Customization</a></li>
<li class="chapter" data-level="11.3" data-path="triggers.html"><a href="triggers.html#a-more-practical-example"><i class="fa fa-check"></i><b>11.3</b> A more practical example</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="time.html"><a href="time.html"><i class="fa fa-check"></i><b>12</b> Time: logging, prediction, and strategy</a><ul>
<li class="chapter" data-level="12.1" data-path="time.html"><a href="time.html#predict-total-runtime"><i class="fa fa-check"></i><b>12.1</b> Predict total runtime</a></li>
<li class="chapter" data-level="12.2" data-path="time.html"><a href="time.html#strategize-your-high-performance-computing"><i class="fa fa-check"></i><b>12.2</b> Strategize your high-performance computing</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="store.html"><a href="store.html"><i class="fa fa-check"></i><b>13</b> Storage</a><ul>
<li class="chapter" data-level="13.1" data-path="store.html"><a href="store.html#caches"><i class="fa fa-check"></i><b>13.1</b> Caches</a></li>
<li class="chapter" data-level="13.2" data-path="store.html"><a href="store.html#hash-algorithms"><i class="fa fa-check"></i><b>13.2</b> Hash algorithms</a></li>
<li class="chapter" data-level="13.3" data-path="store.html"><a href="store.html#which-hash-algorithm-should-you-choose"><i class="fa fa-check"></i><b>13.3</b> Which hash algorithm should you choose?</a></li>
<li class="chapter" data-level="13.4" data-path="store.html"><a href="store.html#select-the-hash-algorithms-of-the-cache"><i class="fa fa-check"></i><b>13.4</b> Select the hash algorithms of the cache</a></li>
<li class="chapter" data-level="13.5" data-path="store.html"><a href="store.html#using-storr-directly"><i class="fa fa-check"></i><b>13.5</b> Using <code>storr</code> directly</a></li>
<li class="chapter" data-level="13.6" data-path="store.html"><a href="store.html#cleaning-up"><i class="fa fa-check"></i><b>13.6</b> Cleaning up</a></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="faq.html"><a href="faq.html"><i class="fa fa-check"></i><b>A</b> Frequently-asked questions</a></li>
<li class="chapter" data-level="B" data-path="caution.html"><a href="caution.html"><i class="fa fa-check"></i><b>B</b> Cautionary notes</a><ul>
<li class="chapter" data-level="B.1" data-path="caution.html"><a href="caution.html#projects-built-with-drake-4.4.0-are-not-back-compatible-with-drake-4.4.0."><i class="fa fa-check"></i><b>B.1</b> Projects built with drake &lt;= 4.4.0 are not back compatible with drake &gt; 4.4.0.</a></li>
<li class="chapter" data-level="B.2" data-path="caution.html"><a href="caution.html#workflow-plans"><i class="fa fa-check"></i><b>B.2</b> Workflow plans</a><ul>
<li class="chapter" data-level="B.2.1" data-path="caution.html"><a href="caution.html#externalizing-commands-in-r-script-files"><i class="fa fa-check"></i><b>B.2.1</b> Externalizing commands in R script files</a></li>
<li class="chapter" data-level="B.2.2" data-path="caution.html"><a href="caution.html#commands-are-not-perfectly-flexible."><i class="fa fa-check"></i><b>B.2.2</b> Commands are NOT perfectly flexible.</a></li>
</ul></li>
<li class="chapter" data-level="B.3" data-path="caution.html"><a href="caution.html#execution"><i class="fa fa-check"></i><b>B.3</b> Execution</a><ul>
<li class="chapter" data-level="B.3.1" data-path="caution.html"><a href="caution.html#install-drake-properly."><i class="fa fa-check"></i><b>B.3.1</b> Install <code>drake</code> properly.</a></li>
<li class="chapter" data-level="B.3.2" data-path="caution.html"><a href="caution.html#install-all-your-packages."><i class="fa fa-check"></i><b>B.3.2</b> Install all your packages.</a></li>
<li class="chapter" data-level="B.3.3" data-path="caution.html"><a href="caution.html#a-note-on-tidy-evaluation-1"><i class="fa fa-check"></i><b>B.3.3</b> A note on tidy evaluation</a></li>
<li class="chapter" data-level="B.3.4" data-path="caution.html"><a href="caution.html#find-and-diagnose-your-errors."><i class="fa fa-check"></i><b>B.3.4</b> Find and diagnose your errors.</a></li>
<li class="chapter" data-level="B.3.5" data-path="caution.html"><a href="caution.html#refresh-the-drake_config-list-early-and-often."><i class="fa fa-check"></i><b>B.3.5</b> Refresh the <code>drake_config()</code> list early and often.</a></li>
<li class="chapter" data-level="B.3.6" data-path="caution.html"><a href="caution.html#workflows-as-r-packages."><i class="fa fa-check"></i><b>B.3.6</b> Workflows as R packages.</a></li>
<li class="chapter" data-level="B.3.7" data-path="caution.html"><a href="caution.html#the-lazy_load-flag-does-not-work-with-parlapply-parallelism."><i class="fa fa-check"></i><b>B.3.7</b> The <code>lazy_load</code> flag does not work with <code>&quot;parLapply&quot;</code> parallelism.</a></li>
<li class="chapter" data-level="B.3.8" data-path="caution.html"><a href="caution.html#timeouts-may-be-unreliable."><i class="fa fa-check"></i><b>B.3.8</b> Timeouts may be unreliable.</a></li>
</ul></li>
<li class="chapter" data-level="B.4" data-path="caution.html"><a href="caution.html#dependencies"><i class="fa fa-check"></i><b>B.4</b> Dependencies</a><ul>
<li class="chapter" data-level="B.4.1" data-path="caution.html"><a href="caution.html#objects-that-contain-functions-may-rebuild-too-often"><i class="fa fa-check"></i><b>B.4.1</b> Objects that contain functions may rebuild too often</a></li>
<li class="chapter" data-level="B.4.2" data-path="caution.html"><a href="caution.html#the-magrittr-dot-.-is-always-ignored."><i class="fa fa-check"></i><b>B.4.2</b> The <code>magrittr</code> dot (<code>.</code>) is always ignored.</a></li>
<li class="chapter" data-level="B.4.3" data-path="caution.html"><a href="caution.html#dependencies-are-not-tracked-in-some-edge-cases."><i class="fa fa-check"></i><b>B.4.3</b> Dependencies are not tracked in some edge cases.</a></li>
<li class="chapter" data-level="B.4.4" data-path="caution.html"><a href="caution.html#dependencies-of-knitr-reports"><i class="fa fa-check"></i><b>B.4.4</b> Dependencies of <code>knitr</code> reports</a></li>
<li class="chapter" data-level="B.4.5" data-path="caution.html"><a href="caution.html#file-outputs-in-imported-functions."><i class="fa fa-check"></i><b>B.4.5</b> File outputs in imported functions.</a></li>
<li class="chapter" data-level="B.4.6" data-path="caution.html"><a href="caution.html#functions-produced-by-vectorize"><i class="fa fa-check"></i><b>B.4.6</b> Functions produced by <code>Vectorize()</code></a></li>
<li class="chapter" data-level="B.4.7" data-path="caution.html"><a href="caution.html#compiled-code-is-not-reproducibly-tracked."><i class="fa fa-check"></i><b>B.4.7</b> Compiled code is not reproducibly tracked.</a></li>
<li class="chapter" data-level="B.4.8" data-path="caution.html"><a href="caution.html#directories-folders-are-not-reproducibly-tracked."><i class="fa fa-check"></i><b>B.4.8</b> Directories (folders) are not reproducibly tracked.</a></li>
<li class="chapter" data-level="B.4.9" data-path="caution.html"><a href="caution.html#packages-are-not-tracked-as-dependencies."><i class="fa fa-check"></i><b>B.4.9</b> Packages are not tracked as dependencies.</a></li>
</ul></li>
<li class="chapter" data-level="B.5" data-path="caution.html"><a href="caution.html#high-performance-computing"><i class="fa fa-check"></i><b>B.5</b> High-performance computing</a><ul>
<li class="chapter" data-level="B.5.1" data-path="caution.html"><a href="caution.html#the-practical-utility-of-parallel-computing"><i class="fa fa-check"></i><b>B.5.1</b> The practical utility of parallel computing</a></li>
<li class="chapter" data-level="B.5.2" data-path="caution.html"><a href="caution.html#maximum-number-of-simultaneous-jobs"><i class="fa fa-check"></i><b>B.5.2</b> Maximum number of simultaneous jobs</a></li>
<li class="chapter" data-level="B.5.3" data-path="caution.html"><a href="caution.html#parallel-computing-on-windows"><i class="fa fa-check"></i><b>B.5.3</b> Parallel computing on Windows</a></li>
<li class="chapter" data-level="B.5.4" data-path="caution.html"><a href="caution.html#configuring-futurebatchtools-parallelism-for-clusters"><i class="fa fa-check"></i><b>B.5.4</b> Configuring <a href="https://github.com/HenrikBengtsson/future">future</a>/<a href="https://github.com/mllg/batchtools">batchtools</a> parallelism for clusters</a></li>
<li class="chapter" data-level="B.5.5" data-path="caution.html"><a href="caution.html#proper-makefiles-are-not-standalone."><i class="fa fa-check"></i><b>B.5.5</b> Proper Makefiles are not standalone.</a></li>
<li class="chapter" data-level="B.5.6" data-path="caution.html"><a href="caution.html#makefile-level-parallelism-for-imported-objects-and-files"><i class="fa fa-check"></i><b>B.5.6</b> Makefile-level parallelism for imported objects and files</a></li>
<li class="chapter" data-level="B.5.7" data-path="caution.html"><a href="caution.html#zombie-processes"><i class="fa fa-check"></i><b>B.5.7</b> Zombie processes</a></li>
</ul></li>
<li class="chapter" data-level="B.6" data-path="caution.html"><a href="caution.html#storage"><i class="fa fa-check"></i><b>B.6</b> Storage</a><ul>
<li class="chapter" data-level="B.6.1" data-path="caution.html"><a href="caution.html#projects-hosted-on-dropbox-and-similar-platforms"><i class="fa fa-check"></i><b>B.6.1</b> Projects hosted on Dropbox and similar platforms</a></li>
<li class="chapter" data-level="B.6.2" data-path="caution.html"><a href="caution.html#cache-customization-is-limited"><i class="fa fa-check"></i><b>B.6.2</b> Cache customization is limited</a></li>
<li class="chapter" data-level="B.6.3" data-path="caution.html"><a href="caution.html#runtime-predictions"><i class="fa fa-check"></i><b>B.6.3</b> Runtime predictions</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">The drake R Package User Manual</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="hpc" class="section level1">
<h1><span class="header-section-number">Chapter 10</span> High-performance computing with drake</h1>
<p><code>Drake</code> is not only a reproducibility tool, but also a high-performance computing engine. To activate parallel computing, just set the <code>jobs</code> argument of <code>make()</code> to a value greater than 1. Below, up to 2 targets can run simultaneously at any given time.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(drake)
<span class="kw">load_mtcars_example</span>()
<span class="kw">make</span>(my_plan, <span class="dt">jobs =</span> <span class="dv">2</span>)</code></pre>
<div id="batch-mode-for-long-workflows" class="section level2">
<h2><span class="header-section-number">10.1</span> Batch mode for long workflows</h2>
<p>To deploy serious long workflows, we recommend putting the call to <code>make()</code> in a script (say, <code>drake_work.R</code>) and running it in an unobtrusive background process that persists after you log out. In the Linux command line, this is straightforward.</p>
<pre><code>nohup nice -19 R CMD BATCH drake_work.R &
</code></pre>
<p>Or, you could call <code>drake</code> inside an overarching <a href="https://www.gnu.org/software/make/"><code>Makefile</code></a> that chains multiple stages together in a larger reproducible pipeline. (See <a href="http://kbroman.org/minimal_make/">Karl Broman’s post</a> on <a href="https://www.gnu.org/software/make/"><code>Makefile</code></a>s for reproducible research.)</p>
<pre><code>all: final_output.pdf

final_output.pdf: python_magic.py results_summary.csv
    python python_magic.py

results_summary.csv: drake_work.R
    Rscript drake_work.R

clean:
    rm -rf .drake
</code></pre>
<p>Then, run your whole pipleine in a persistent background process.</p>
<pre><code>nohup nice -19 R CMD BATCH make &
</code></pre>
<p>If you do write a custom <a href="https://www.gnu.org/software/make/"><code>Makefile</code></a> at the root of your project and you plan to use <code>make(parallelism = &quot;Makefile&quot;)</code>, please read about <code>make(parallelism = &quot;Makefile&quot;)</code> later in this document to avoid potential conflicts between your <a href="https://www.gnu.org/software/make/"><code>Makefile</code></a> and the one <code>drake</code> writes.</p>
</div>
<div id="let-drake-schedule-your-targets." class="section level2">
<h2><span class="header-section-number">10.2</span> Let drake schedule your targets.</h2>
<p>When you deploy your project, <code>drake</code> uses the dependency network to figure out how to run your work in parallel. You as the user do not have to micromanage when individual targets are built.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">load_mtcars_example</span>()
config &lt;-<span class="st"> </span><span class="kw">drake_config</span>(my_plan)
<span class="kw">vis_drake_graph</span>(config)</code></pre>
<div id="htmlwidget-919d57cd1a7f98b4a2e3" style="width:576px;height:576px;" class="visNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-919d57cd1a7f98b4a2e3">{"x":{"nodes":{"id":["\"report.Rmd\"","coef_regression1_large","coef_regression1_small","coef_regression2_large","coef_regression2_small","data.frame","knit","large","lm","mtcars","nrow","random_rows","reg1","reg2","regression1_large","regression1_small","regression2_large","regression2_small","report","sample.int","simulate","small","summ_regression1_large","summ_regression1_small","summ_regression2_large","summ_regression2_small","summary","suppressWarnings"],"deps":[null,{},{},{},{},null,null,{},null,null,null,{},{},{},{},{},{},{},{},null,{},{},{},{},{},{},null,null],"trigger":[null,{},{},{},{},null,null,{},null,null,null,null,null,null,{},{},{},{},{},null,null,{},{},{},{},{},null,null],"label":["\"report.Rmd\"\n0.003s","coef_regression1_large","coef_regression1_small","coef_regression2_large","coef_regression2_small","data.frame\n0.051s","knit\n0.04s","large","lm\n0.019s","mtcars\n0.003s","nrow\n0.013s","random_rows\n0.004s","reg1\n0.004s","reg2\n0.003s","regression1_large","regression1_small","regression2_large","regression2_small","report","sample.int\n0.017s","simulate\n0.004s","small","summ_regression1_large","summ_regression1_small","summ_regression2_large","summ_regression2_small","summary\n0.014s","suppressWarnings\n0.013s"],"command":[null,"suppressWarnings(summary(regression1_large))$coefficients","suppressWarnings(summary(regression1_small))$coefficients","suppressWarnings(summary(regression2_large))$coefficients","suppressWarnings(summary(regression2_small))$coefficients",null,null,"simulate(64)",null,null,null,null,null,null,"reg1(large)","reg1(small)","reg2(large)","reg2(small)","knit(knitr_in(\"report.Rmd\"), file_out(\"report.md\"), quiet = TRUE)",null,null,"simulate(48)","suppressWarnings(summary(regression1_large$residuals))","suppressWarnings(summary(regression1_small$residuals))","suppressWarnings(summary(regression2_large$residuals))","suppressWarnings(summary(regression2_small$residuals))",null,null],"status":["imported","outdated","outdated","outdated","outdated","imported","imported","outdated","imported","imported","imported","imported","imported","imported","outdated","outdated","outdated","outdated","outdated","imported","imported","outdated","outdated","outdated","outdated","outdated","imported","imported"],"type":["file","object","object","object","object","function","function","object","function","object","function","function","function","function","object","object","object","object","object","function","function","object","object","object","object","object","function","function"],"font.size":[20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20],"color":["#1874CD","#000000","#000000","#000000","#000000","#1874CD","#1874CD","#000000","#1874CD","#1874CD","#1874CD","#1874CD","#1874CD","#1874CD","#000000","#000000","#000000","#000000","#000000","#1874CD","#1874CD","#000000","#000000","#000000","#000000","#000000","#1874CD","#1874CD"],"shape":["square","dot","dot","dot","dot","triangle","triangle","dot","triangle","dot","triangle","triangle","triangle","triangle","dot","dot","dot","dot","dot","triangle","triangle","dot","dot","dot","dot","dot","triangle","triangle"],"level":[1,6,6,6,6,1,1,4,1,1,1,2,2,2,5,5,5,5,7,1,3,4,6,6,6,6,1,1],"hover_label":["---\ntitle: \"Final results report for the mtcars example\"\nauthor: You\noutput: html_document\n---\n\n# The weight and fuel efficiency of cars\n\nIs there an association between the weight and the fuel efficiency of cars? To find out, we use the `mtcars` ...","suppressWarnings(summary(regression1_large))$coefficients","suppressWarnings(summary(regression1_small))$coefficients","suppressWarnings(summary(regression2_large))$coefficients","suppressWarnings(summary(regression2_small))$coefficients","function (..., row.names = NULL, check.rows = FALSE, check.names = TRUE, \n    fix.empty.names = TRUE, stringsAsFactors = default.stringsAsFactors()) \n{\n    data.row.names <- if (check.rows && is.null(row.names)) \n        function(current, new, i) ...","function (input, output = NULL, tangle = FALSE, text = NULL, \n    quiet = FALSE, envir = parent.frame(), encoding = getOption(\"encoding\")) \n{\n    in.file = !missing(input) && (is.character(input) || prod(inherits(input, \n        c(\"file\", \"connect...","simulate(64)","function (formula, data, subset, weights, na.action, method = \"qr\", \n    model = TRUE, x = FALSE, y = FALSE, qr = TRUE, singular.ok = TRUE, \n    contrasts = NULL, offset, ...) \n{\n    ret.x <- x\n    ret.y <- y\n    cl <- match.call()\n    mf <- match...","mtcars","function (x) \ndim(x)[1L]","function (data, n) \n{\n    data[sample.int(n = nrow(data), size = n, replace = TRUE), \n        ]\n}","function (d) \n{\n    lm(y ~ +x, data = d)\n}","function (d) \n{\n    d$x2 <- d$x^2\n    lm(y ~ x2, data = d)\n}","reg1(large)","reg1(small)","reg2(large)","reg2(small)","knit(knitr_in(\"report.Rmd\"), file_out(\"report.md\"), quiet = TRUE)","function (n, size = n, replace = FALSE, prob = NULL, useHash = (!replace && \n    is.null(prob) && size <= n/2 && n > 1e+07)) \n{\n    if (useHash) \n        .Internal(sample2(n, size))\n    else .Internal(sample(n, size, replace, prob))\n}","function (n) \n{\n    data <- random_rows(data = mtcars, n = n)\n    data.frame(x = data$wt, y = data$mpg)\n}","simulate(48)","suppressWarnings(summary(regression1_large$residuals))","suppressWarnings(summary(regression1_small$residuals))","suppressWarnings(summary(regression2_large$residuals))","suppressWarnings(summary(regression2_small$residuals))","function (object, ...) \nUseMethod(\"summary\")","function (expr) \n{\n    ops <- options(warn = -1)\n    on.exit(options(ops))\n    withCallingHandlers(expr, warning = function(w) invokeRestart(\"muffleWarning\"))\n}"],"x":[-0.719298245614035,0.298245614035088,0.578947368421053,0.649122807017544,-0.473684210526316,-0.508771929824561,-0.789473684210526,0.0175438596491229,0.192982456140351,-0.298245614035088,-0.649122807017544,-0.368421052631579,0.719298245614035,-0.0526315789473685,0.649122807017544,0.719298245614035,0.192982456140351,-0.43859649122807,-1,-0.578947368421053,-0.228070175438597,-0.298245614035088,1,0.859649122807018,0.0175438596491229,-0.333333333333333,-0.12280701754386,-0.0526315789473685],"y":[-1,0.666666666666667,0.666666666666667,0.666666666666667,0.666666666666667,-1,-1,0,-1,-1,-1,-0.666666666666667,-0.666666666666667,-0.666666666666667,0.333333333333333,0.333333333333333,0.333333333333333,0.333333333333333,1,-1,-0.333333333333333,0,0.666666666666667,0.666666666666667,0.666666666666667,0.666666666666667,-1,-1]},"edges":{"from":["nrow","sample.int","data.frame","summary","summary","summary","summary","summary","summary","summary","summary","lm","lm","mtcars","random_rows","\"report.Rmd\"","coef_regression2_small","knit","large","large","large","small","small","small","simulate","simulate","reg1","reg1","reg2","reg2","regression1_small","regression1_small","suppressWarnings","suppressWarnings","suppressWarnings","suppressWarnings","suppressWarnings","suppressWarnings","suppressWarnings","suppressWarnings","regression1_large","regression1_large","regression2_small","regression2_small","regression2_large","regression2_large"],"to":["random_rows","random_rows","simulate","coef_regression2_small","summ_regression1_small","summ_regression1_large","summ_regression2_small","summ_regression2_large","coef_regression1_small","coef_regression1_large","coef_regression2_large","reg1","reg2","simulate","simulate","report","report","report","regression1_large","regression2_large","report","regression1_small","regression2_small","report","large","small","regression1_small","regression1_large","regression2_small","regression2_large","summ_regression1_small","coef_regression1_small","coef_regression2_small","summ_regression1_small","summ_regression1_large","summ_regression2_small","summ_regression2_large","coef_regression1_small","coef_regression1_large","coef_regression2_large","summ_regression1_large","coef_regression1_large","coef_regression2_small","summ_regression2_small","summ_regression2_large","coef_regression2_large"],"arrows":["to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to"]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot","physics":false},"manipulation":{"enabled":false},"layout":{"hierarchical":{"enabled":true,"direction":"LR"}},"edges":{"smooth":false},"physics":{"stabilization":false},"interaction":{"navigationButtons":true,"hover":true}},"groups":null,"width":null,"height":null,"idselection":{"enabled":false},"byselection":{"enabled":false},"main":{"text":"Dependency graph","style":"font-family:Georgia, Times New Roman, Times, serif;font-weight:bold;font-size:20px;text-align:center;"},"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)","legend":{"width":0.2,"useGroups":false,"position":"left","ncol":1,"stepX":100,"stepY":100,"zoom":true,"nodes":{"label":["Outdated","Imported","Object","Function","File"],"color":["#000000","#1874CD","#888888","#888888","#888888"],"shape":["dot","dot","dot","triangle","square"],"font.color":["black","black","black","black","black"],"font.size":[20,20,20,20,20],"id":[2,5,7,8,9]},"nodesToDataframe":true},"igraphlayout":{"type":"square"},"tooltipStay":300,"tooltipStyle":"position: fixed;visibility:hidden;padding: 5px;white-space: nowrap;font-family: verdana;font-size:14px;font-color:#000000;background-color: #f5f4ed;-moz-border-radius: 3px;-webkit-border-radius: 3px;border-radius: 3px;border: 1px solid #808074;box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.2);","events":{"hoverNode":"function(e){\n        var label_info = this.body.data.nodes.get({\n          fields: ['label', 'hover_label'],\n          filter: function (item) {\n            return item.id === e.node\n          },\n          returnType :'Array'\n        });\n        this.body.data.nodes.update({\n          id: e.node,\n          label : label_info[0].hover_label,\n          hover_label : label_info[0].label\n        });\n      }","blurNode":"function(e){\n        var label_info = this.body.data.nodes.get({\n          fields: ['label', 'hover_label'],\n          filter: function (item) {\n            return item.id === e.node\n          },\n          returnType :'Array'\n        });\n        this.body.data.nodes.update({\n          id: e.node,\n          label : label_info[0].hover_label,\n          hover_label : label_info[0].label\n        });\n      }"}},"evals":["events.hoverNode","events.blurNode"],"jsHooks":[]}</script>
</div>
<div id="parallel-backends" class="section level2">
<h2><span class="header-section-number">10.3</span> Parallel backends</h2>
<p>There are multiple ways to walk this graph and multiple ways to launch workers, and every project has its own needs. Thus, <code>drake</code> supports multiple parallel backends. Choose the backend with the <code>parallelism</code> argument.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">make</span>(my_plan, <span class="dt">parallelism =</span> <span class="st">&quot;parLapply&quot;</span>, <span class="dt">jobs =</span> <span class="dv">2</span>)</code></pre>
<p>You can use a different backend for the imports than you select for the targets. If you do so, you force all the imports to be processed before any of the targets are built, but you might want to do so anyway. For example, staged scheduling could be great for imports even when it is not be the right choice for the targets (more on that later).</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">make</span>(
  my_plan,
  <span class="dt">parallelism =</span> <span class="kw">c</span>(<span class="dt">imports =</span> <span class="st">&quot;mclapply_staged&quot;</span>, <span class="dt">targets =</span> <span class="st">&quot;mclapply&quot;</span>),
  <span class="dt">jobs =</span> <span class="dv">2</span>
)</code></pre>
<p>List your options with <code>parallelism_choices()</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">parallelism_choices</span>()
## [1] &quot;mclapply&quot;             &quot;parLapply&quot;            &quot;mclapply_staged&quot;     
## [4] &quot;parLapply_staged&quot;     &quot;clustermq_staged&quot;     &quot;future&quot;              
## [7] &quot;future_lapply&quot;        &quot;future_lapply_staged&quot; &quot;Makefile&quot;</code></pre>
<p>The backends vary widely in terms of how the workers deploy and how they are scheduled.</p>
<table>
<colgroup>
<col width="50%" />
<col width="35%" />
<col width="14%" />
</colgroup>
<thead>
<tr class="header">
<th></th>
<th align="center">Deploy: local</th>
<th align="right">Deploy: remote</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Schedule: persistent</td>
<td align="center">“mclapply”, “parLapply”</td>
<td align="right">“future_lapply”</td>
</tr>
<tr class="even">
<td>Schedule: transient</td>
<td align="center"></td>
<td align="right">“future”, “Makefile”</td>
</tr>
<tr class="odd">
<td>Schedule: staged</td>
<td align="center">“mclapply_staged”, “parLapply_staged”</td>
<td align="right">“clustermq_staged”, “future_lapply_staged”</td>
</tr>
</tbody>
</table>
<p>The next sections describe how and when to use each scheduling algorithm and deployment strategy.</p>
</div>
<div id="local-workers" class="section level2">
<h2><span class="header-section-number">10.4</span> Local workers</h2>
<p>Local workers deploy as separate forks or processes to you computer. The <code>&quot;mclapply&quot;</code> and <code>&quot;mclapply_staged&quot;</code> backends uses the <code>mclapply()</code> function from the <code>parallel</code> package to launch workers.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">make</span>(my_plan, <span class="dt">parallelism =</span> <span class="st">&quot;mclapply&quot;</span>, <span class="dt">jobs =</span> <span class="dv">2</span>)
<span class="kw">make</span>(my_plan, <span class="dt">parallelism =</span> <span class="st">&quot;mclapply_staged&quot;</span>, <span class="dt">jobs =</span> <span class="dv">2</span>)</code></pre>
<p>Workers are quicker to launch than in any other <code>drake</code> backend, so these two choices are the lowest-overhead options. However, they have limitations: the <code>mclapply()</code> function is inefficient with respect to computer memory (see explanations <a href="https://github.com/tdhock/mclapply-memory">here</a> and <a href="http://lcolladotor.github.io/2013/11/14/Reducing-memory-overhead-when-using-mclapply/#.Wu8Fc9Yh1hE">here</a>) and it cannot launch multiple workers on Windows. For this reason, <code>drake</code> supports platform agnostic backends <code>&quot;parLapply&quot;</code> and <code>&quot;parLapply_staged&quot;</code>, both of which are based on the <code>parLapply()</code> function from the <code>parallel</code> package. These options work on Windows, but each <code>make()</code> requires extra overhead to create a <a href="http://gforge.se/2015/02/how-to-go-parallel-in-r-basics-tips/">parallel socket (PSOCK) cluster</a>.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">make</span>(my_plan, <span class="dt">parallelism =</span> <span class="st">&quot;parLapply&quot;</span>, <span class="dt">jobs =</span> <span class="dv">2</span>)
<span class="kw">make</span>(my_plan, <span class="dt">parallelism =</span> <span class="st">&quot;parLapply_staged&quot;</span>, <span class="dt">jobs =</span> <span class="dv">2</span>)</code></pre>
<p>The default parallelism is <code>&quot;parLapply&quot;</code> on Windows and <code>&quot;mclapply&quot;</code> everywhere else.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">default_parallelism</span>()
## [1] &quot;mclapply&quot;</code></pre>
</div>
<div id="remote-workers" class="section level2">
<h2><span class="header-section-number">10.5</span> Remote workers</h2>
<p>The <code>&quot;future_lapply&quot;</code>, <code>&quot;future&quot;</code>, and <code>&quot;Makefile&quot;</code> backends have the option to launch workers to remote resources such as nodes on a computing cluster.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">parallelism_choices</span>(<span class="dt">distributed_only =</span> <span class="ot">TRUE</span>)
## [1] &quot;clustermq_staged&quot;     &quot;future&quot;               &quot;future_lapply&quot;       
## [4] &quot;future_lapply_staged&quot; &quot;Makefile&quot;</code></pre>
<p>Testing them out is straightforward.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">make</span>(my_plan, <span class="dt">parallelism =</span> <span class="st">&quot;future&quot;</span>, <span class="dt">jobs =</span> <span class="dv">2</span>)
<span class="kw">make</span>(my_plan, <span class="dt">parallelism =</span> <span class="st">&quot;future_lapply&quot;</span>, <span class="dt">jobs =</span> <span class="dv">2</span>)
<span class="kw">make</span>(my_plan, <span class="dt">parallelism =</span> <span class="st">&quot;Makefile&quot;</span>, <span class="dt">jobs =</span> <span class="dv">2</span>)</code></pre>
<p>For remote workers, the all the imports are processed with one of the local worker backends before any of the targets start. You can use different numbers of workers for the imports and the targets.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">make</span>(my_plan, <span class="dt">parallelism =</span> <span class="st">&quot;future&quot;</span>, <span class="dt">jobs =</span> <span class="kw">c</span>(<span class="dt">imports =</span> <span class="dv">2</span>, <span class="dt">targets =</span> <span class="dv">4</span>))</code></pre>
<p>By default, these backends launch the workers on your local machine. It takes extra configuring to actually deploy them to a remote cluster. The next subsections have the details.</p>
<div id="future-future_lapply-and-future_lapply_staged" class="section level3">
<h3><span class="header-section-number">10.5.1</span> <code>&quot;future&quot;</code>, <code>&quot;future_lapply&quot;</code>, and <code>&quot;future_lapply_staged&quot;</code></h3>
<p>The <code>plan()</code> function from the <a href="https://github.com/HenrikBengtsson/future"><code>future</code></a> package configures how and where the workers will deploy on the next <code>make()</code>. For example, the following code uses <a href="https://github.com/HenrikBengtsson/future"><code>future</code></a>’s <code>multisession</code> backend, which is analogous to <code>drake</code>’s <code>&quot;parLapply&quot;</code> parallelism.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(future)
future<span class="op">::</span><span class="kw">plan</span>(multisession)
<span class="kw">make</span>(my_plan, <span class="dt">parallelism =</span> <span class="st">&quot;future&quot;</span>, <span class="dt">jobs =</span> <span class="dv">2</span>)
## Same technology, different scheduling:
<span class="kw">make</span>(my_plan, <span class="dt">parallelism =</span> <span class="st">&quot;future_lapply&quot;</span>, <span class="dt">jobs =</span> <span class="dv">2</span>)</code></pre>
<p>For <code>&quot;future_lapply_staged&quot;</code> parallelism, the <code>jobs</code> argument is ignored, and you must instead specify the number of workers in <code>future::plan()</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r">future<span class="op">::</span><span class="kw">plan</span>(multisession, <span class="dt">workers =</span> <span class="dv">2</span>)
<span class="kw">make</span>(my_plan, <span class="dt">parallelism =</span> <span class="st">&quot;future_lapply_staged&quot;</span>)</code></pre>
<p>To deploy to a cluster (say, a <a href="https://slurm.schedmd.com/">SLURM</a> cluster), you need the <a href="https://github.com/mllg/batchtools"><code>batchtools</code></a> and <a href="https://github.com/HenrikBengtsson/future.batchtools"><code>future.batchtools</code></a> packages.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(future.batchtools)</code></pre>
<p>You also need <a href="https://github.com/ropensci/drake/tree/master/inst/hpc_template_files">template file</a> to configure <a href="https://github.com/mllg/batchtools"><code>batchtools</code></a> with the cluster: memory specifications, wall time limits etc. Use <code>drake_hpc_template_file()</code> to write one of the available example template files for <a href="https://github.com/mllg/batchtools"><code>batchtools</code></a> (list with <code>drake_hpc_template_files()</code>). You will probably need to edit your tempalte file manually to match your resources and needs.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">drake_hpc_tempalte_file</span>(<span class="st">&quot;slurm_batchtools.tmpl&quot;</span>) <span class="co"># Write the file slurm_batchtools.tmpl.</span></code></pre>
<p>Load the template file your <code>future::plan()</code> and call <code>make()</code> to run the project.</p>
<pre class="sourceCode r"><code class="sourceCode r">future<span class="op">::</span><span class="kw">plan</span>(batchtools_slurm, <span class="dt">template =</span> <span class="st">&quot;slurm_batchtools.tmpl&quot;</span>)
<span class="kw">make</span>(my_plan, <span class="dt">parallelism =</span> <span class="st">&quot;future&quot;</span>, <span class="dt">jobs =</span> <span class="dv">2</span>)
## Same technology, different scheduling options:
<span class="kw">make</span>(my_plan, <span class="dt">parallelism =</span> <span class="st">&quot;future_lapply&quot;</span>, <span class="dt">jobs =</span> <span class="dv">2</span>)</code></pre>
<p>And as before, <code>&quot;future_lapply_staged&quot;</code> uses the <code>workers</code> argument from <code>future::plan()</code> rather than <code>jobs</code> in <code>make()</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r">future<span class="op">::</span><span class="kw">plan</span>(batchtools_slurm, <span class="dt">template =</span> <span class="st">&quot;slurm_batchtools.tmpl&quot;</span>, <span class="dt">workers =</span> <span class="dv">2</span>)
<span class="kw">make</span>(my_plan, <span class="dt">parallelism =</span> <span class="st">&quot;future_lapply_staged&quot;</span>)</code></pre>
<p>See packages <a href="https://github.com/HenrikBengtsson/future"><code>future</code></a>, <a href="https://github.com/HenrikBengtsson/future.batchtools"><code>future.batchtools</code></a>, and <a href="https://github.com/mllg/batchtools"><code>batchtools</code></a> for more options. For example, the alternatives for <code>future::plan()</code> are listed <a href="https://github.com/HenrikBengtsson/future#controlling-how-futures-are-resolved">here</a> and <a href="https://github.com/HenrikBengtsson/future.batchtools#choosing-batchtools-backend">here</a>.</p>
</div>
<div id="clustermq_staged" class="section level3">
<h3><span class="header-section-number">10.5.2</span> <code>&quot;clustermq_staged&quot;</code></h3>
<p>The <a href="https://github.com/mschubert/clustermq"><code>clustermq</code></a> R package is a fast, user-friendly tool for sending R jobs to clusters, and <a href="https://github.com/mschubert/clustermq"><code>clustermq</code></a>-powered <code>drake</code> workers suffer less overhead than other remote workers. To use <code>drake</code>’s <a href="https://github.com/mschubert/clustermq"><code>clustermq</code></a> backends, you must first install <a href="http://zeromq.org/">ZeroMQ</a> (<a href="http://zeromq.org/intro:get-the-software">installation instructions here</a>). Then, install <a href="https://github.com/mschubert/clustermq"><code>clustermq</code></a> explicitly (it does not come with <code>drake</code>).</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">install.packages</span>(<span class="st">&quot;clustermq&quot;</span>) <span class="co"># CRAN release</span>
<span class="co"># Alternatively, install the GitHub development version.</span>
devtools<span class="op">::</span><span class="kw">install_github</span>(<span class="st">&quot;mschubert/clustermq&quot;</span>)</code></pre>
<p><a href="https://github.com/mschubert/clustermq"><code>clustermq</code></a> detects most clusters automatically. However, you may still want to configure resources, wall time limits, etc. If so, you will need a <a href="https://github.com/ropensci/drake/tree/master/inst/hpc_template_files">template file</a>. Use <code>drake_hpc_template_file()</code> to write one of the available example template files for <a href="https://github.com/mschubert/clustermq"><code>clustermq</code></a>. (list with <code>drake_hpc_template_files()</code>). You will probably need to edit your tempalte file manually to match your resources and needs.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">drake_hpc_tempalte_file</span>(<span class="st">&quot;slurm_clustermq.tmpl&quot;</span>) <span class="co"># Write the file slurm_clustermq.tmpl.</span></code></pre>
<p>Next, configure <a href="https://github.com/mschubert/clustermq"><code>clustermq</code></a> to use your scheduler and template file. <a href="https://github.com/mschubert/clustermq"><code>clustermq</code></a> has a <a href="https://github.com/mschubert/clustermq/wiki#setting-up-the-scheduler">really nice wiki</a> with more detailed directions.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">options</span>(<span class="dt">clustermq.scheduler =</span> <span class="st">&quot;slurm&quot;</span>, <span class="dt">template =</span> <span class="st">&quot;slurm_clustermq.tmpl&quot;</span>)</code></pre>
<p>Tip: for a dry run on your local machine, use <code>options(clustermq.scheduler = &quot;multicore&quot;)</code> instead. Either way, once it is time to run your project, simply call <code>make()</code> with one of the <a href="https://github.com/mschubert/clustermq"><code>clustermq</code></a> parallelism backends.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">make</span>(my_plan, <span class="dt">parallelism =</span> <span class="st">&quot;clustermq_staged&quot;</span>, <span class="dt">jobs =</span> <span class="dv">4</span>)</code></pre>
</div>
<div id="makefile" class="section level3">
<h3><span class="header-section-number">10.5.3</span> <code>&quot;Makefile&quot;</code></h3>
<p>Here, <code>drake</code> actually writes, configures, and runs a proper <a href="https://www.gnu.org/software/make/"><code>Makefile</code></a> to run the targets.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">make</span>(my_plan, <span class="dt">parallelism =</span> <span class="st">&quot;Makefile&quot;</span>, <span class="dt">jobs =</span> <span class="dv">2</span>)</code></pre>
<p>You can configure both the Unix command that runs the <a href="https://www.gnu.org/software/make/"><code>Makefile</code></a> and the command line arguments passed to it.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">make</span>(
  my_plan,
  <span class="dt">parallelism =</span> <span class="st">&quot;Makefile&quot;</span>,
  <span class="dt">command =</span> <span class="st">&quot;lsmake&quot;</span>,
  <span class="dt">args =</span> <span class="kw">c</span>(<span class="st">&quot;--touch&quot;</span>, <span class="st">&quot;--silent&quot;</span>)
)</code></pre>
<p>If <code>drake</code>’s <code>Makefile</code> conflicts with a <code>Makefile</code> you already wrote yourself, <code>drake</code> does not overwrite your <code>Makefile</code>. Instead, <code>make()</code> tells you about the conflict and then stops running. To force <code>drake</code> to use a different <code>Makefile</code> that does not conflict with yours, pass the file path to the <code>makefile_path</code> argument and set the <code>--file</code> argument in <code>args</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">make</span>(
  my_plan,
  <span class="dt">parallelism =</span> <span class="st">&quot;Makefile&quot;</span>,
  <span class="dt">makefile_path =</span> <span class="st">&quot;my_folder/my_makefile&quot;</span>,
  <span class="dt">args =</span> <span class="st">&quot;--file=my_folder/my_makefile&quot;</span>
)</code></pre>
<p>There are more customization options in <code>make()</code>, such as the <code>recipe_command</code> argument.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">make</span>(my_plan, <span class="dt">parallelism =</span> <span class="st">&quot;Makefile&quot;</span>, <span class="dt">jobs =</span> <span class="dv">4</span>,
  <span class="dt">recipe_command =</span> <span class="st">&quot;R -e &#39;R_RECIPE&#39; -q&quot;</span>)</code></pre>
<p>See the help files of individual functions for details.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">default_Makefile_command</span>()
## [1] &quot;make&quot;

<span class="kw">default_recipe_command</span>()
## [1] &quot;Rscript -e &#39;R_RECIPE&#39;&quot;

<span class="kw">r_recipe_wildcard</span>()
## [1] &quot;R_RECIPE&quot;

<span class="kw">Makefile_recipe</span>(
  <span class="dt">recipe_command =</span> <span class="st">&quot;R -e &#39;R_RECIPE&#39; -q&quot;</span>,
  <span class="dt">target =</span> <span class="st">&quot;this_target&quot;</span>,
  <span class="dt">cache_path =</span> <span class="st">&quot;custom_cache&quot;</span>
)
## R -e &#39;drake::mk(target = &quot;this_target&quot;, cache_path = &quot;custom_cache&quot;)&#39; -q</code></pre>
<p>To deploy workers to a cluster, you need to supply the <a href="https://www.gnu.org/software/make/"><code>Makefile</code></a> with a custom shell script that launches cluster jobs. Use the <code>shell_file()</code> function to write an example compatible with the <a href="http://www.univa.com/products/">Univa Grid Engine</a>. You will probably need to configure it manually. Suppose our file is <code>shell.sh</code>.</p>
<pre><code>#!/bin/bash
shift
echo "module load R; $*" | qsub -sync y -cwd -j y
</code></pre>
<p>You will need to set permissions to allow execution. In the Linux command line, this is straightforward.</p>
<pre><code>$ chmod +x shell.sh 
</code></pre>
<p>When you actually call <code>make()</code>, use the <code>prepend</code> argument to write a line at the top of the <a href="https://www.gnu.org/software/make/"><code>Makefile</code></a> to reference your shell file.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">make</span>(my_plan, <span class="dt">parallelism =</span> <span class="st">&quot;Makefile&quot;</span>, <span class="dt">jobs =</span> <span class="dv">2</span>, <span class="dt">prepend =</span> <span class="st">&quot;SHELL=./shell.sh&quot;</span>)</code></pre>
<p><a href="https://slurm.schedmd.com/">SLURM</a> users may be able to <a href="http://plindenbaum.blogspot.com/2014/09/parallelizing-gnu-make-4-in-slurm.html">invoke <code>srun</code> and dispense with <code>shell.sh</code> altogether</a>, though success may vary depending on the SLURM system. You will probably also need to set resource allocation parameters governing memory, runtime, etc. See <code>man srun</code> for the possible <code>.SHELLFLAGS</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">make</span>(
  my_plan,
  <span class="dt">parallelism =</span> <span class="st">&quot;Makefile&quot;</span>,
  <span class="dt">jobs =</span> <span class="dv">2</span>,
  <span class="dt">prepend =</span> <span class="kw">c</span>(
    <span class="st">&quot;SHELL=srun&quot;</span>,
    <span class="st">&quot;.SHELLFLAGS=-N1 -n1 bash -c&quot;</span>
  )
)</code></pre>
</div>
</div>
<div id="scheduling-algorithms" class="section level2">
<h2><span class="header-section-number">10.6</span> Scheduling algorithms</h2>
<div id="persistent-scheduling" class="section level3">
<h3><span class="header-section-number">10.6.1</span> Persistent scheduling</h3>
<p>Backends “mclapply”, “parLapply”, and “future_lapply” launch persistent workers.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">make</span>(my_plan, <span class="dt">parallelism =</span> <span class="st">&quot;mclapply&quot;</span>, <span class="dt">jobs =</span> <span class="dv">2</span>)
<span class="kw">make</span>(my_plan, <span class="dt">parallelism =</span> <span class="st">&quot;parLapply&quot;</span>, <span class="dt">jobs =</span> <span class="dv">2</span>)
future<span class="op">::</span><span class="kw">plan</span>(future<span class="op">::</span>multisession)
<span class="kw">make</span>(my_plan, <span class="dt">parallelism =</span> <span class="st">&quot;future_lapply&quot;</span>, <span class="dt">jobs =</span> <span class="dv">2</span>)</code></pre>
<p>In each of these calls to <code>make()</code>, three processes launch: two workers and one master. Whenever a worker is idle, the master assigns it the next available target (whose dependencies have been built). The workers keep running until there are no more targets to build. The following video demonstrates the concept.</p>
<div style="text-align: center">
<iframe width="700" height="434" src="https://www.powtoon.com/embed/bUfSIaXjrw5/" frameborder="0">
</iframe>
</div>
<p>For staged scheduling, you can micromanage which workers can run which targets. This column can be an integer vector or a list of integer vectors. Simply set an optional <code>workers</code> column in your <code>drake_plan()</code>. Why would you wish to do this? Consider the <code>mtcars</code> example.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">load_mtcars_example</span>()
my_plan<span class="op">$</span>workers &lt;-<span class="st"> </span><span class="dv">1</span>
my_plan<span class="op">$</span>workers[<span class="kw">grepl</span>(<span class="st">&quot;large&quot;</span>, my_plan<span class="op">$</span>target)] &lt;-<span class="st"> </span><span class="dv">2</span>
my_plan
## # A tibble: 15 x 3
##    target                 command                                  workers
##    &lt;chr&gt;                  &lt;chr&gt;                                      &lt;dbl&gt;
##  1 report                 &quot;knit(knitr_in(\&quot;report.Rmd\&quot;), file_ou…       1
##  2 small                  simulate(48)                                   1
##  3 large                  simulate(64)                                   2
##  4 regression1_small      reg1(small)                                    1
##  5 regression1_large      reg1(large)                                    2
##  6 regression2_small      reg2(small)                                    1
##  7 regression2_large      reg2(large)                                    2
##  8 summ_regression1_small suppressWarnings(summary(regression1_sm…       1
##  9 summ_regression1_large suppressWarnings(summary(regression1_la…       2
## 10 summ_regression2_small suppressWarnings(summary(regression2_sm…       1
## 11 summ_regression2_large suppressWarnings(summary(regression2_la…       2
## 12 coef_regression1_small suppressWarnings(summary(regression1_sm…       1
## 13 coef_regression1_large suppressWarnings(summary(regression1_la…       2
## 14 coef_regression2_small suppressWarnings(summary(regression2_sm…       1
## 15 coef_regression2_large suppressWarnings(summary(regression2_la…       2</code></pre>
<p>Here, one of the workers is in charge of all the targets that have to do with the <code>large</code> dataset. That way, we do not need other workers to read <code>large</code> from disk. If reads from disk take a long time, this could speed up your workflow. On the other hand, delegating all the <code>large</code> targets to worker 2 could prevent worker 1 from sharing the computational load, which could slow things down. Ultimately, you as the user need to make these tradeoffs. Also, the <code>workers</code> column only applies to the persistent scheduling backends.</p>
<p>Similarly, you can set an optional <code>priority</code> column for your <code>drake_plan()</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r">plan &lt;-<span class="st"> </span><span class="kw">drake_plan</span>(<span class="dt">A =</span> <span class="kw">build</span>(), <span class="dt">B =</span> <span class="kw">stuff</span>())
plan<span class="op">$</span>priority &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>)
plan
## # A tibble: 2 x 3
##   target command priority
## * &lt;chr&gt;  &lt;chr&gt;      &lt;dbl&gt;
## 1 A      build()        1
## 2 B      stuff()        2</code></pre>
<p>Because of the <code>priority</code> column, if targets <code>A</code> and <code>B</code> are both ready to build, then <code>A</code> will be assigned to a worker first. Custom priorities apply to the staged scheduling backends, plus the <code>&quot;future&quot;</code> backend.</p>
<p>The <code>predict_runtime()</code> and <code>predict_load_balancing()</code> functions emulate persistent workers, and the predictions also apply to transient workers. See the <a href="time.html#time">timing guide</a> for a demonstration. These functions also respond to the <code>workers</code> column.</p>
</div>
<div id="transient-scheduling" class="section level3">
<h3><span class="header-section-number">10.6.2</span> Transient scheduling</h3>
<p>Persistent workers are great because they minimize overhead: all the workers are created at the beginning, and then you never have to create any more for the rest of the runthrough. Unfortunately, computing clusters usually limit the amount of time each worker can stay running. That is why <code>drake</code> also supports transient workers in backends <code>&quot;future&quot;</code> and <code>&quot;Makefile&quot;</code>. Here, the master process creates a new worker for each target individually, and the worker dies after it finishes its single target. For the <code>&quot;future&quot;</code> backend, the master is just the existing process calling <code>make()</code>. The following video demonstrates the concept.</p>
<div style="text-align: center">
<iframe width="700" height="434" src="https://www.powtoon.com/embed/cHIdOqudELB/" frameborder="0">
</iframe>
</div>
<pre class="sourceCode r"><code class="sourceCode r">future<span class="op">::</span><span class="kw">plan</span>(future<span class="op">::</span>multisession)
<span class="kw">make</span>(my_plan, <span class="dt">parallelism =</span> <span class="st">&quot;future&quot;</span>, <span class="dt">jobs =</span> <span class="dv">2</span>)
<span class="kw">make</span>(my_plan, <span class="dt">parallelism =</span> <span class="st">&quot;Makefile&quot;</span>, <span class="dt">jobs =</span> <span class="dv">2</span>)</code></pre>
</div>
<div id="staged-scheduling" class="section level3">
<h3><span class="header-section-number">10.6.3</span> Staged scheduling</h3>
<p>Backends <code>&quot;mclapply_staged&quot;</code> and <code>&quot;parLapply_staged&quot;</code> support staged scheduling.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">make</span>(my_plan, <span class="dt">parallelism =</span> <span class="st">&quot;mclapply_staged&quot;</span>, <span class="dt">jobs =</span> <span class="dv">2</span>)
<span class="kw">make</span>(my_plan, <span class="dt">parallelism =</span> <span class="st">&quot;parLapply_staged&quot;</span>, <span class="dt">jobs =</span> <span class="dv">2</span>)</code></pre>
<p>Here, the dependency network is divided into separate stages of conditionally independent targets. Within each stage, <code>drake</code> uses <code>mclapply()</code> or <code>parLapply()</code> to process the targets in parallel. Stages run one after the other, so the slowest target in the current stage needs to complete before the next stage begins. So we lose a lot of parallel efficiency. The following video demonstrates the major drawback.<sup><a href="hpc.html#note1" id="note1ref">[1]</a></sup></p>
<div style="text-align: center">
<iframe width="700" height="434" src="https://www.powtoon.com/embed/dQKbGttIYud/" frameborder="0">
</iframe>
</div>
<p>However, because there is no formal master process in each stage, overhead is extremely low. This lack of overhead can make staged parallelism a great choice for projects with a small number of large stages: tall dependency graphs with most of the work in the tallest stages.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(dplyr)
<span class="kw">library</span>(drake)

N &lt;-<span class="st"> </span><span class="dv">500</span>

gen_data &lt;-<span class="st"> </span><span class="cf">function</span>() {
  <span class="kw">tibble</span>(<span class="dt">a =</span> <span class="kw">seq_len</span>(N), <span class="dt">b =</span> <span class="dv">1</span>, <span class="dt">c =</span> <span class="dv">2</span>, <span class="dt">d =</span> <span class="dv">3</span>)
}

plan_data &lt;-<span class="st"> </span><span class="kw">drake_plan</span>(
  <span class="dt">data =</span> <span class="kw">gen_data</span>()
)

plan_sub &lt;-
<span class="st">  </span><span class="kw">gen_data</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">transmute</span>(
    <span class="dt">target =</span> <span class="kw">paste0</span>(<span class="st">&quot;data&quot;</span>, a),
    <span class="dt">command =</span> <span class="kw">paste0</span>(<span class="st">&quot;data[&quot;</span>, a, <span class="st">&quot;, ]&quot;</span>)
  )

plan &lt;-<span class="st"> </span><span class="kw">bind_rows</span>(plan_data, plan_sub)
plan
## # A tibble: 501 x 2
##    target command   
##    &lt;chr&gt;  &lt;chr&gt;     
##  1 data   gen_data()
##  2 data1  data[1, ] 
##  3 data2  data[2, ] 
##  4 data3  data[3, ] 
##  5 data4  data[4, ] 
##  6 data5  data[5, ] 
##  7 data6  data[6, ] 
##  8 data7  data[7, ] 
##  9 data8  data[8, ] 
## 10 data9  data[9, ] 
## # ... with 491 more rows

config &lt;-<span class="st"> </span><span class="kw">drake_config</span>(plan)
<span class="kw">vis_drake_graph</span>(config)</code></pre>
<div id="htmlwidget-515e675aba6a2f31e4ec" style="width:576px;height:576px;" class="visNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-515e675aba6a2f31e4ec">{"x":{"nodes":{"id":["data","data1","data10","data100","data101","data102","data103","data104","data105","data106","data107","data108","data109","data11","data110","data111","data112","data113","data114","data115","data116","data117","data118","data119","data12","data120","data121","data122","data123","data124","data125","data126","data127","data128","data129","data13","data130","data131","data132","data133","data134","data135","data136","data137","data138","data139","data14","data140","data141","data142","data143","data144","data145","data146","data147","data148","data149","data15","data150","data151","data152","data153","data154","data155","data156","data157","data158","data159","data16","data160","data161","data162","data163","data164","data165","data166","data167","data168","data169","data17","data170","data171","data172","data173","data174","data175","data176","data177","data178","data179","data18","data180","data181","data182","data183","data184","data185","data186","data187","data188","data189","data19","data190","data191","data192","data193","data194","data195","data196","data197","data198","data199","data2","data20","data200","data201","data202","data203","data204","data205","data206","data207","data208","data209","data21","data210","data211","data212","data213","data214","data215","data216","data217","data218","data219","data22","data220","data221","data222","data223","data224","data225","data226","data227","data228","data229","data23","data230","data231","data232","data233","data234","data235","data236","data237","data238","data239","data24","data240","data241","data242","data243","data244","data245","data246","data247","data248","data249","data25","data250","data251","data252","data253","data254","data255","data256","data257","data258","data259","data26","data260","data261","data262","data263","data264","data265","data266","data267","data268","data269","data27","data270","data271","data272","data273","data274","data275","data276","data277","data278","data279","data28","data280","data281","data282","data283","data284","data285","data286","data287","data288","data289","data29","data290","data291","data292","data293","data294","data295","data296","data297","data298","data299","data3","data30","data300","data301","data302","data303","data304","data305","data306","data307","data308","data309","data31","data310","data311","data312","data313","data314","data315","data316","data317","data318","data319","data32","data320","data321","data322","data323","data324","data325","data326","data327","data328","data329","data33","data330","data331","data332","data333","data334","data335","data336","data337","data338","data339","data34","data340","data341","data342","data343","data344","data345","data346","data347","data348","data349","data35","data350","data351","data352","data353","data354","data355","data356","data357","data358","data359","data36","data360","data361","data362","data363","data364","data365","data366","data367","data368","data369","data37","data370","data371","data372","data373","data374","data375","data376","data377","data378","data379","data38","data380","data381","data382","data383","data384","data385","data386","data387","data388","data389","data39","data390","data391","data392","data393","data394","data395","data396","data397","data398","data399","data4","data40","data400","data401","data402","data403","data404","data405","data406","data407","data408","data409","data41","data410","data411","data412","data413","data414","data415","data416","data417","data418","data419","data42","data420","data421","data422","data423","data424","data425","data426","data427","data428","data429","data43","data430","data431","data432","data433","data434","data435","data436","data437","data438","data439","data44","data440","data441","data442","data443","data444","data445","data446","data447","data448","data449","data45","data450","data451","data452","data453","data454","data455","data456","data457","data458","data459","data46","data460","data461","data462","data463","data464","data465","data466","data467","data468","data469","data47","data470","data471","data472","data473","data474","data475","data476","data477","data478","data479","data48","data480","data481","data482","data483","data484","data485","data486","data487","data488","data489","data49","data490","data491","data492","data493","data494","data495","data496","data497","data498","data499","data5","data50","data500","data51","data52","data53","data54","data55","data56","data57","data58","data59","data6","data60","data61","data62","data63","data64","data65","data66","data67","data68","data69","data7","data70","data71","data72","data73","data74","data75","data76","data77","data78","data79","data8","data80","data81","data82","data83","data84","data85","data86","data87","data88","data89","data9","data90","data91","data92","data93","data94","data95","data96","data97","data98","data99","gen_data","N","seq_len","tibble"],"deps":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},null,null],"trigger":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},null,null,null,null],"label":["data","data1","data10","data100","data101","data102","data103","data104","data105","data106","data107","data108","data109","data11","data110","data111","data112","data113","data114","data115","data116","data117","data118","data119","data12","data120","data121","data122","data123","data124","data125","data126","data127","data128","data129","data13","data130","data131","data132","data133","data134","data135","data136","data137","data138","data139","data14","data140","data141","data142","data143","data144","data145","data146","data147","data148","data149","data15","data150","data151","data152","data153","data154","data155","data156","data157","data158","data159","data16","data160","data161","data162","data163","data164","data165","data166","data167","data168","data169","data17","data170","data171","data172","data173","data174","data175","data176","data177","data178","data179","data18","data180","data181","data182","data183","data184","data185","data186","data187","data188","data189","data19","data190","data191","data192","data193","data194","data195","data196","data197","data198","data199","data2","data20","data200","data201","data202","data203","data204","data205","data206","data207","data208","data209","data21","data210","data211","data212","data213","data214","data215","data216","data217","data218","data219","data22","data220","data221","data222","data223","data224","data225","data226","data227","data228","data229","data23","data230","data231","data232","data233","data234","data235","data236","data237","data238","data239","data24","data240","data241","data242","data243","data244","data245","data246","data247","data248","data249","data25","data250","data251","data252","data253","data254","data255","data256","data257","data258","data259","data26","data260","data261","data262","data263","data264","data265","data266","data267","data268","data269","data27","data270","data271","data272","data273","data274","data275","data276","data277","data278","data279","data28","data280","data281","data282","data283","data284","data285","data286","data287","data288","data289","data29","data290","data291","data292","data293","data294","data295","data296","data297","data298","data299","data3","data30","data300","data301","data302","data303","data304","data305","data306","data307","data308","data309","data31","data310","data311","data312","data313","data314","data315","data316","data317","data318","data319","data32","data320","data321","data322","data323","data324","data325","data326","data327","data328","data329","data33","data330","data331","data332","data333","data334","data335","data336","data337","data338","data339","data34","data340","data341","data342","data343","data344","data345","data346","data347","data348","data349","data35","data350","data351","data352","data353","data354","data355","data356","data357","data358","data359","data36","data360","data361","data362","data363","data364","data365","data366","data367","data368","data369","data37","data370","data371","data372","data373","data374","data375","data376","data377","data378","data379","data38","data380","data381","data382","data383","data384","data385","data386","data387","data388","data389","data39","data390","data391","data392","data393","data394","data395","data396","data397","data398","data399","data4","data40","data400","data401","data402","data403","data404","data405","data406","data407","data408","data409","data41","data410","data411","data412","data413","data414","data415","data416","data417","data418","data419","data42","data420","data421","data422","data423","data424","data425","data426","data427","data428","data429","data43","data430","data431","data432","data433","data434","data435","data436","data437","data438","data439","data44","data440","data441","data442","data443","data444","data445","data446","data447","data448","data449","data45","data450","data451","data452","data453","data454","data455","data456","data457","data458","data459","data46","data460","data461","data462","data463","data464","data465","data466","data467","data468","data469","data47","data470","data471","data472","data473","data474","data475","data476","data477","data478","data479","data48","data480","data481","data482","data483","data484","data485","data486","data487","data488","data489","data49","data490","data491","data492","data493","data494","data495","data496","data497","data498","data499","data5","data50","data500","data51","data52","data53","data54","data55","data56","data57","data58","data59","data6","data60","data61","data62","data63","data64","data65","data66","data67","data68","data69","data7","data70","data71","data72","data73","data74","data75","data76","data77","data78","data79","data8","data80","data81","data82","data83","data84","data85","data86","data87","data88","data89","data9","data90","data91","data92","data93","data94","data95","data96","data97","data98","data99","gen_data\n0.004s","N\n0.003s","seq_len\n0.004s","tibble\n0.004s"],"command":["gen_data()","data[1, ]","data[10, ]","data[100, ]","data[101, ]","data[102, ]","data[103, ]","data[104, ]","data[105, ]","data[106, ]","data[107, ]","data[108, ]","data[109, ]","data[11, ]","data[110, ]","data[111, ]","data[112, ]","data[113, ]","data[114, ]","data[115, ]","data[116, ]","data[117, ]","data[118, ]","data[119, ]","data[12, ]","data[120, ]","data[121, ]","data[122, ]","data[123, ]","data[124, ]","data[125, ]","data[126, ]","data[127, ]","data[128, ]","data[129, ]","data[13, ]","data[130, ]","data[131, ]","data[132, ]","data[133, ]","data[134, ]","data[135, ]","data[136, ]","data[137, ]","data[138, ]","data[139, ]","data[14, ]","data[140, ]","data[141, ]","data[142, ]","data[143, ]","data[144, ]","data[145, ]","data[146, ]","data[147, ]","data[148, ]","data[149, ]","data[15, ]","data[150, ]","data[151, ]","data[152, ]","data[153, ]","data[154, ]","data[155, ]","data[156, ]","data[157, ]","data[158, ]","data[159, ]","data[16, ]","data[160, ]","data[161, ]","data[162, ]","data[163, ]","data[164, ]","data[165, ]","data[166, ]","data[167, ]","data[168, ]","data[169, ]","data[17, ]","data[170, ]","data[171, ]","data[172, ]","data[173, ]","data[174, ]","data[175, ]","data[176, ]","data[177, ]","data[178, ]","data[179, ]","data[18, ]","data[180, ]","data[181, ]","data[182, ]","data[183, ]","data[184, ]","data[185, ]","data[186, ]","data[187, ]","data[188, ]","data[189, ]","data[19, ]","data[190, ]","data[191, ]","data[192, ]","data[193, ]","data[194, ]","data[195, ]","data[196, ]","data[197, ]","data[198, ]","data[199, ]","data[2, ]","data[20, ]","data[200, ]","data[201, ]","data[202, ]","data[203, ]","data[204, ]","data[205, ]","data[206, ]","data[207, ]","data[208, ]","data[209, ]","data[21, ]","data[210, ]","data[211, ]","data[212, ]","data[213, ]","data[214, ]","data[215, ]","data[216, ]","data[217, ]","data[218, ]","data[219, ]","data[22, ]","data[220, ]","data[221, ]","data[222, ]","data[223, ]","data[224, ]","data[225, ]","data[226, ]","data[227, ]","data[228, ]","data[229, ]","data[23, ]","data[230, ]","data[231, ]","data[232, ]","data[233, ]","data[234, ]","data[235, ]","data[236, ]","data[237, ]","data[238, ]","data[239, ]","data[24, ]","data[240, ]","data[241, ]","data[242, ]","data[243, ]","data[244, ]","data[245, ]","data[246, ]","data[247, ]","data[248, ]","data[249, ]","data[25, ]","data[250, ]","data[251, ]","data[252, ]","data[253, ]","data[254, ]","data[255, ]","data[256, ]","data[257, ]","data[258, ]","data[259, ]","data[26, ]","data[260, ]","data[261, ]","data[262, ]","data[263, ]","data[264, ]","data[265, ]","data[266, ]","data[267, ]","data[268, ]","data[269, ]","data[27, ]","data[270, ]","data[271, ]","data[272, ]","data[273, ]","data[274, ]","data[275, ]","data[276, ]","data[277, ]","data[278, ]","data[279, ]","data[28, ]","data[280, ]","data[281, ]","data[282, ]","data[283, ]","data[284, ]","data[285, ]","data[286, ]","data[287, ]","data[288, ]","data[289, ]","data[29, ]","data[290, ]","data[291, ]","data[292, ]","data[293, ]","data[294, ]","data[295, ]","data[296, ]","data[297, ]","data[298, ]","data[299, ]","data[3, ]","data[30, ]","data[300, ]","data[301, ]","data[302, ]","data[303, ]","data[304, ]","data[305, ]","data[306, ]","data[307, ]","data[308, ]","data[309, ]","data[31, ]","data[310, ]","data[311, ]","data[312, ]","data[313, ]","data[314, ]","data[315, ]","data[316, ]","data[317, ]","data[318, ]","data[319, ]","data[32, ]","data[320, ]","data[321, ]","data[322, ]","data[323, ]","data[324, ]","data[325, ]","data[326, ]","data[327, ]","data[328, ]","data[329, ]","data[33, ]","data[330, ]","data[331, ]","data[332, ]","data[333, ]","data[334, ]","data[335, ]","data[336, ]","data[337, ]","data[338, ]","data[339, ]","data[34, ]","data[340, ]","data[341, ]","data[342, ]","data[343, ]","data[344, ]","data[345, ]","data[346, ]","data[347, ]","data[348, ]","data[349, ]","data[35, ]","data[350, ]","data[351, ]","data[352, ]","data[353, ]","data[354, ]","data[355, ]","data[356, ]","data[357, ]","data[358, ]","data[359, ]","data[36, ]","data[360, ]","data[361, ]","data[362, ]","data[363, ]","data[364, ]","data[365, ]","data[366, ]","data[367, ]","data[368, ]","data[369, ]","data[37, ]","data[370, ]","data[371, ]","data[372, ]","data[373, ]","data[374, ]","data[375, ]","data[376, ]","data[377, ]","data[378, ]","data[379, ]","data[38, ]","data[380, ]","data[381, ]","data[382, ]","data[383, ]","data[384, ]","data[385, ]","data[386, ]","data[387, ]","data[388, ]","data[389, ]","data[39, ]","data[390, ]","data[391, ]","data[392, ]","data[393, ]","data[394, ]","data[395, ]","data[396, ]","data[397, ]","data[398, ]","data[399, ]","data[4, ]","data[40, ]","data[400, ]","data[401, ]","data[402, ]","data[403, ]","data[404, ]","data[405, ]","data[406, ]","data[407, ]","data[408, ]","data[409, ]","data[41, ]","data[410, ]","data[411, ]","data[412, ]","data[413, ]","data[414, ]","data[415, ]","data[416, ]","data[417, ]","data[418, ]","data[419, ]","data[42, ]","data[420, ]","data[421, ]","data[422, ]","data[423, ]","data[424, ]","data[425, ]","data[426, ]","data[427, ]","data[428, ]","data[429, ]","data[43, ]","data[430, ]","data[431, ]","data[432, ]","data[433, ]","data[434, ]","data[435, ]","data[436, ]","data[437, ]","data[438, ]","data[439, ]","data[44, ]","data[440, ]","data[441, ]","data[442, ]","data[443, ]","data[444, ]","data[445, ]","data[446, ]","data[447, ]","data[448, ]","data[449, ]","data[45, ]","data[450, ]","data[451, ]","data[452, ]","data[453, ]","data[454, ]","data[455, ]","data[456, ]","data[457, ]","data[458, ]","data[459, ]","data[46, ]","data[460, ]","data[461, ]","data[462, ]","data[463, ]","data[464, ]","data[465, ]","data[466, ]","data[467, ]","data[468, ]","data[469, ]","data[47, ]","data[470, ]","data[471, ]","data[472, ]","data[473, ]","data[474, ]","data[475, ]","data[476, ]","data[477, ]","data[478, ]","data[479, ]","data[48, ]","data[480, ]","data[481, ]","data[482, ]","data[483, ]","data[484, ]","data[485, ]","data[486, ]","data[487, ]","data[488, ]","data[489, ]","data[49, ]","data[490, ]","data[491, ]","data[492, ]","data[493, ]","data[494, ]","data[495, ]","data[496, ]","data[497, ]","data[498, ]","data[499, ]","data[5, ]","data[50, ]","data[500, ]","data[51, ]","data[52, ]","data[53, ]","data[54, ]","data[55, ]","data[56, ]","data[57, ]","data[58, ]","data[59, ]","data[6, ]","data[60, ]","data[61, ]","data[62, ]","data[63, ]","data[64, ]","data[65, ]","data[66, ]","data[67, ]","data[68, ]","data[69, ]","data[7, ]","data[70, ]","data[71, ]","data[72, ]","data[73, ]","data[74, ]","data[75, ]","data[76, ]","data[77, ]","data[78, ]","data[79, ]","data[8, ]","data[80, ]","data[81, ]","data[82, ]","data[83, ]","data[84, ]","data[85, ]","data[86, ]","data[87, ]","data[88, ]","data[89, ]","data[9, ]","data[90, ]","data[91, ]","data[92, ]","data[93, ]","data[94, ]","data[95, ]","data[96, ]","data[97, ]","data[98, ]","data[99, ]",null,null,null,null],"status":["outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","imported","imported","imported","imported"],"type":["object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","function","object","function","function"],"font.size":[20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20],"color":["#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#1874CD","#1874CD","#1874CD","#1874CD"],"shape":["dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","triangle","dot","triangle","triangle"],"level":[3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,2,1,1,1],"hover_label":["gen_data()","data[1, ]","data[10, ]","data[100, ]","data[101, ]","data[102, ]","data[103, ]","data[104, ]","data[105, ]","data[106, ]","data[107, ]","data[108, ]","data[109, ]","data[11, ]","data[110, ]","data[111, ]","data[112, ]","data[113, ]","data[114, ]","data[115, ]","data[116, ]","data[117, ]","data[118, ]","data[119, ]","data[12, ]","data[120, ]","data[121, ]","data[122, ]","data[123, ]","data[124, ]","data[125, ]","data[126, ]","data[127, ]","data[128, ]","data[129, ]","data[13, ]","data[130, ]","data[131, ]","data[132, ]","data[133, ]","data[134, ]","data[135, ]","data[136, ]","data[137, ]","data[138, ]","data[139, ]","data[14, ]","data[140, ]","data[141, ]","data[142, ]","data[143, ]","data[144, ]","data[145, ]","data[146, ]","data[147, ]","data[148, ]","data[149, ]","data[15, ]","data[150, ]","data[151, ]","data[152, ]","data[153, ]","data[154, ]","data[155, ]","data[156, ]","data[157, ]","data[158, ]","data[159, ]","data[16, ]","data[160, ]","data[161, ]","data[162, ]","data[163, ]","data[164, ]","data[165, ]","data[166, ]","data[167, ]","data[168, ]","data[169, ]","data[17, ]","data[170, ]","data[171, ]","data[172, ]","data[173, ]","data[174, ]","data[175, ]","data[176, ]","data[177, ]","data[178, ]","data[179, ]","data[18, ]","data[180, ]","data[181, ]","data[182, ]","data[183, ]","data[184, ]","data[185, ]","data[186, ]","data[187, ]","data[188, ]","data[189, ]","data[19, ]","data[190, ]","data[191, ]","data[192, ]","data[193, ]","data[194, ]","data[195, ]","data[196, ]","data[197, ]","data[198, ]","data[199, ]","data[2, ]","data[20, ]","data[200, ]","data[201, ]","data[202, ]","data[203, ]","data[204, ]","data[205, ]","data[206, ]","data[207, ]","data[208, ]","data[209, ]","data[21, ]","data[210, ]","data[211, ]","data[212, ]","data[213, ]","data[214, ]","data[215, ]","data[216, ]","data[217, ]","data[218, ]","data[219, ]","data[22, ]","data[220, ]","data[221, ]","data[222, ]","data[223, ]","data[224, ]","data[225, ]","data[226, ]","data[227, ]","data[228, ]","data[229, ]","data[23, ]","data[230, ]","data[231, ]","data[232, ]","data[233, ]","data[234, ]","data[235, ]","data[236, ]","data[237, ]","data[238, ]","data[239, ]","data[24, ]","data[240, ]","data[241, ]","data[242, ]","data[243, ]","data[244, ]","data[245, ]","data[246, ]","data[247, ]","data[248, ]","data[249, ]","data[25, ]","data[250, ]","data[251, ]","data[252, ]","data[253, ]","data[254, ]","data[255, ]","data[256, ]","data[257, ]","data[258, ]","data[259, ]","data[26, ]","data[260, ]","data[261, ]","data[262, ]","data[263, ]","data[264, ]","data[265, ]","data[266, ]","data[267, ]","data[268, ]","data[269, ]","data[27, ]","data[270, ]","data[271, ]","data[272, ]","data[273, ]","data[274, ]","data[275, ]","data[276, ]","data[277, ]","data[278, ]","data[279, ]","data[28, ]","data[280, ]","data[281, ]","data[282, ]","data[283, ]","data[284, ]","data[285, ]","data[286, ]","data[287, ]","data[288, ]","data[289, ]","data[29, ]","data[290, ]","data[291, ]","data[292, ]","data[293, ]","data[294, ]","data[295, ]","data[296, ]","data[297, ]","data[298, ]","data[299, ]","data[3, ]","data[30, ]","data[300, ]","data[301, ]","data[302, ]","data[303, ]","data[304, ]","data[305, ]","data[306, ]","data[307, ]","data[308, ]","data[309, ]","data[31, ]","data[310, ]","data[311, ]","data[312, ]","data[313, ]","data[314, ]","data[315, ]","data[316, ]","data[317, ]","data[318, ]","data[319, ]","data[32, ]","data[320, ]","data[321, ]","data[322, ]","data[323, ]","data[324, ]","data[325, ]","data[326, ]","data[327, ]","data[328, ]","data[329, ]","data[33, ]","data[330, ]","data[331, ]","data[332, ]","data[333, ]","data[334, ]","data[335, ]","data[336, ]","data[337, ]","data[338, ]","data[339, ]","data[34, ]","data[340, ]","data[341, ]","data[342, ]","data[343, ]","data[344, ]","data[345, ]","data[346, ]","data[347, ]","data[348, ]","data[349, ]","data[35, ]","data[350, ]","data[351, ]","data[352, ]","data[353, ]","data[354, ]","data[355, ]","data[356, ]","data[357, ]","data[358, ]","data[359, ]","data[36, ]","data[360, ]","data[361, ]","data[362, ]","data[363, ]","data[364, ]","data[365, ]","data[366, ]","data[367, ]","data[368, ]","data[369, ]","data[37, ]","data[370, ]","data[371, ]","data[372, ]","data[373, ]","data[374, ]","data[375, ]","data[376, ]","data[377, ]","data[378, ]","data[379, ]","data[38, ]","data[380, ]","data[381, ]","data[382, ]","data[383, ]","data[384, ]","data[385, ]","data[386, ]","data[387, ]","data[388, ]","data[389, ]","data[39, ]","data[390, ]","data[391, ]","data[392, ]","data[393, ]","data[394, ]","data[395, ]","data[396, ]","data[397, ]","data[398, ]","data[399, ]","data[4, ]","data[40, ]","data[400, ]","data[401, ]","data[402, ]","data[403, ]","data[404, ]","data[405, ]","data[406, ]","data[407, ]","data[408, ]","data[409, ]","data[41, ]","data[410, ]","data[411, ]","data[412, ]","data[413, ]","data[414, ]","data[415, ]","data[416, ]","data[417, ]","data[418, ]","data[419, ]","data[42, ]","data[420, ]","data[421, ]","data[422, ]","data[423, ]","data[424, ]","data[425, ]","data[426, ]","data[427, ]","data[428, ]","data[429, ]","data[43, ]","data[430, ]","data[431, ]","data[432, ]","data[433, ]","data[434, ]","data[435, ]","data[436, ]","data[437, ]","data[438, ]","data[439, ]","data[44, ]","data[440, ]","data[441, ]","data[442, ]","data[443, ]","data[444, ]","data[445, ]","data[446, ]","data[447, ]","data[448, ]","data[449, ]","data[45, ]","data[450, ]","data[451, ]","data[452, ]","data[453, ]","data[454, ]","data[455, ]","data[456, ]","data[457, ]","data[458, ]","data[459, ]","data[46, ]","data[460, ]","data[461, ]","data[462, ]","data[463, ]","data[464, ]","data[465, ]","data[466, ]","data[467, ]","data[468, ]","data[469, ]","data[47, ]","data[470, ]","data[471, ]","data[472, ]","data[473, ]","data[474, ]","data[475, ]","data[476, ]","data[477, ]","data[478, ]","data[479, ]","data[48, ]","data[480, ]","data[481, ]","data[482, ]","data[483, ]","data[484, ]","data[485, ]","data[486, ]","data[487, ]","data[488, ]","data[489, ]","data[49, ]","data[490, ]","data[491, ]","data[492, ]","data[493, ]","data[494, ]","data[495, ]","data[496, ]","data[497, ]","data[498, ]","data[499, ]","data[5, ]","data[50, ]","data[500, ]","data[51, ]","data[52, ]","data[53, ]","data[54, ]","data[55, ]","data[56, ]","data[57, ]","data[58, ]","data[59, ]","data[6, ]","data[60, ]","data[61, ]","data[62, ]","data[63, ]","data[64, ]","data[65, ]","data[66, ]","data[67, ]","data[68, ]","data[69, ]","data[7, ]","data[70, ]","data[71, ]","data[72, ]","data[73, ]","data[74, ]","data[75, ]","data[76, ]","data[77, ]","data[78, ]","data[79, ]","data[8, ]","data[80, ]","data[81, ]","data[82, ]","data[83, ]","data[84, ]","data[85, ]","data[86, ]","data[87, ]","data[88, ]","data[89, ]","data[9, ]","data[90, ]","data[91, ]","data[92, ]","data[93, ]","data[94, ]","data[95, ]","data[96, ]","data[97, ]","data[98, ]","data[99, ]","function () \n{\n    tibble(a = seq_len(N), b = 1, c = 2, d = 3)\n}","N",".Primitive(\"seq_len\")","function (...) \n{\n    xs <- quos(..., .named = TRUE)\n    as_tibble(lst_quos(xs, expand = TRUE))\n}"],"x":[0,-1,-0.995991983967936,-0.991983967935872,-0.987975951903808,-0.983967935871743,-0.979959919839679,-0.975951903807615,-0.971943887775551,-0.967935871743487,-0.963927855711423,-0.959919839679359,-0.955911823647295,-0.95190380761523,-0.947895791583166,-0.943887775551102,-0.939879759519038,-0.935871743486974,-0.93186372745491,-0.927855711422846,-0.923847695390782,-0.919839679358717,-0.915831663326653,-0.911823647294589,-0.907815631262525,-0.903807615230461,-0.899799599198397,-0.895791583166333,-0.891783567134269,-0.887775551102204,-0.88376753507014,-0.879759519038076,-0.875751503006012,-0.871743486973948,-0.867735470941884,-0.86372745490982,-0.859719438877755,-0.855711422845691,-0.851703406813627,-0.847695390781563,-0.843687374749499,-0.839679358717435,-0.835671342685371,-0.831663326653307,-0.827655310621243,-0.823647294589178,-0.819639278557114,-0.81563126252505,-0.811623246492986,-0.807615230460922,-0.803607214428858,-0.799599198396794,-0.795591182364729,-0.791583166332665,-0.787575150300601,-0.783567134268537,-0.779559118236473,-0.775551102204409,-0.771543086172345,-0.767535070140281,-0.763527054108216,-0.759519038076152,-0.755511022044088,-0.751503006012024,-0.74749498997996,-0.743486973947896,-0.739478957915832,-0.735470941883767,-0.731462925851703,-0.727454909819639,-0.723446893787575,-0.719438877755511,-0.715430861723447,-0.711422845691383,-0.707414829659319,-0.703406813627254,-0.69939879759519,-0.695390781563126,-0.691382765531062,-0.687374749498998,-0.683366733466934,-0.67935871743487,-0.675350701402806,-0.671342685370741,-0.667334669338677,-0.663326653306613,-0.659318637274549,-0.655310621242485,-0.651302605210421,-0.647294589178357,-0.643286573146293,-0.639278557114228,-0.635270541082164,-0.6312625250501,-0.627254509018036,-0.623246492985972,-0.619238476953908,-0.615230460921844,-0.61122244488978,-0.607214428857715,-0.603206412825651,-0.599198396793587,-0.595190380761523,-0.591182364729459,-0.587174348697395,-0.583166332665331,-0.579158316633267,-0.575150300601202,-0.571142284569138,-0.567134268537074,-0.56312625250501,-0.559118236472946,-0.555110220440882,-0.551102204408818,-0.547094188376753,-0.543086172344689,-0.539078156312625,-0.535070140280561,-0.531062124248497,-0.527054108216433,-0.523046092184369,-0.519038076152305,-0.51503006012024,-0.511022044088176,-0.507014028056112,-0.503006012024048,-0.498997995991984,-0.49498997995992,-0.490981963927856,-0.486973947895792,-0.482965931863727,-0.478957915831663,-0.474949899799599,-0.470941883767535,-0.466933867735471,-0.462925851703407,-0.458917835671343,-0.454909819639279,-0.450901803607214,-0.44689378757515,-0.442885771543086,-0.438877755511022,-0.434869739478958,-0.430861723446894,-0.42685370741483,-0.422845691382766,-0.418837675350701,-0.414829659318637,-0.410821643286573,-0.406813627254509,-0.402805611222445,-0.398797595190381,-0.394789579158317,-0.390781563126252,-0.386773547094188,-0.382765531062124,-0.37875751503006,-0.374749498997996,-0.370741482965932,-0.366733466933868,-0.362725450901804,-0.35871743486974,-0.354709418837675,-0.350701402805611,-0.346693386773547,-0.342685370741483,-0.338677354709419,-0.334669338677355,-0.330661322645291,-0.326653306613226,-0.322645290581162,-0.318637274549098,-0.314629258517034,-0.31062124248497,-0.306613226452906,-0.302605210420842,-0.298597194388778,-0.294589178356713,-0.290581162324649,-0.286573146292585,-0.282565130260521,-0.278557114228457,-0.274549098196393,-0.270541082164329,-0.266533066132265,-0.2625250501002,-0.258517034068136,-0.254509018036072,-0.250501002004008,-0.246492985971944,-0.24248496993988,-0.238476953907816,-0.234468937875752,-0.230460921843687,-0.226452905811623,-0.222444889779559,-0.218436873747495,-0.214428857715431,-0.210420841683367,-0.206412825651303,-0.202404809619238,-0.198396793587174,-0.19438877755511,-0.190380761523046,-0.186372745490982,-0.182364729458918,-0.178356713426854,-0.17434869739479,-0.170340681362725,-0.166332665330661,-0.162324649298597,-0.158316633266533,-0.154308617234469,-0.150300601202405,-0.146292585170341,-0.142284569138277,-0.138276553106212,-0.134268537074148,-0.130260521042084,-0.12625250501002,-0.122244488977956,-0.118236472945892,-0.114228456913828,-0.110220440881764,-0.106212424849699,-0.102204408817635,-0.0981963927855711,-0.094188376753507,-0.0901803607214429,-0.0861723446893787,-0.0821643286573146,-0.0781563126252505,-0.0741482965931863,-0.0701402805611222,-0.0661322645290581,-0.0621242484969939,-0.0581162324649298,-0.0541082164328658,-0.0501002004008017,-0.0460921843687375,-0.0420841683366734,-0.0380761523046093,-0.0340681362725451,-0.030060120240481,-0.0260521042084169,-0.0220440881763527,-0.0180360721442886,-0.0140280561122245,-0.0100200400801603,-0.0060120240480962,-0.00200400801603207,0.00200400801603196,0.00601202404809609,0.0100200400801602,0.0140280561122244,0.0180360721442885,0.0220440881763526,0.0260521042084167,0.0300601202404809,0.034068136272545,0.0380761523046091,0.0420841683366733,0.0460921843687374,0.0501002004008015,0.0541082164328657,0.0581162324649298,0.0621242484969939,0.0661322645290581,0.0701402805611222,0.0741482965931863,0.0781563126252505,0.0821643286573146,0.0861723446893787,0.0901803607214429,0.094188376753507,0.0981963927855711,0.102204408817635,0.106212424849699,0.110220440881764,0.114228456913828,0.118236472945892,0.122244488977956,0.12625250501002,0.130260521042084,0.134268537074148,0.138276553106212,0.142284569138277,0.146292585170341,0.150300601202405,0.154308617234469,0.158316633266533,0.162324649298597,0.166332665330661,0.170340681362726,0.17434869739479,0.178356713426854,0.182364729458918,0.186372745490982,0.190380761523046,0.19438877755511,0.198396793587174,0.202404809619239,0.206412825651303,0.210420841683367,0.214428857715431,0.218436873747495,0.222444889779559,0.226452905811623,0.230460921843687,0.234468937875751,0.238476953907816,0.24248496993988,0.246492985971944,0.250501002004008,0.254509018036072,0.258517034068136,0.2625250501002,0.266533066132264,0.270541082164329,0.274549098196393,0.278557114228457,0.282565130260521,0.286573146292585,0.290581162324649,0.294589178356713,0.298597194388778,0.302605210420842,0.306613226452906,0.31062124248497,0.314629258517034,0.318637274549098,0.322645290581162,0.326653306613226,0.330661322645291,0.334669338677355,0.338677354709419,0.342685370741483,0.346693386773547,0.350701402805611,0.354709418837675,0.35871743486974,0.362725450901804,0.366733466933868,0.370741482965932,0.374749498997996,0.37875751503006,0.382765531062124,0.386773547094188,0.390781563126253,0.394789579158317,0.398797595190381,0.402805611222445,0.406813627254509,0.410821643286573,0.414829659318637,0.418837675350701,0.422845691382766,0.42685370741483,0.430861723446894,0.434869739478958,0.438877755511022,0.442885771543086,0.44689378757515,0.450901803607214,0.454909819639278,0.458917835671343,0.462925851703407,0.466933867735471,0.470941883767535,0.474949899799599,0.478957915831663,0.482965931863727,0.486973947895792,0.490981963927856,0.49498997995992,0.498997995991984,0.503006012024048,0.507014028056112,0.511022044088176,0.51503006012024,0.519038076152305,0.523046092184369,0.527054108216433,0.531062124248497,0.535070140280561,0.539078156312625,0.543086172344689,0.547094188376753,0.551102204408818,0.555110220440882,0.559118236472946,0.56312625250501,0.567134268537074,0.571142284569138,0.575150300601202,0.579158316633267,0.583166332665331,0.587174348697395,0.591182364729459,0.595190380761523,0.599198396793587,0.603206412825651,0.607214428857715,0.61122244488978,0.615230460921844,0.619238476953908,0.623246492985972,0.627254509018036,0.6312625250501,0.635270541082164,0.639278557114229,0.643286573146293,0.647294589178357,0.651302605210421,0.655310621242485,0.659318637274549,0.663326653306613,0.667334669338677,0.671342685370741,0.675350701402806,0.67935871743487,0.683366733466934,0.687374749498998,0.691382765531062,0.695390781563126,0.69939879759519,0.703406813627254,0.707414829659319,0.711422845691383,0.715430861723447,0.719438877755511,0.723446893787575,0.727454909819639,0.731462925851703,0.735470941883767,0.739478957915832,0.743486973947896,0.74749498997996,0.751503006012024,0.755511022044088,0.759519038076152,0.763527054108216,0.767535070140281,0.771543086172345,0.775551102204409,0.779559118236473,0.783567134268537,0.787575150300601,0.791583166332665,0.795591182364729,0.799599198396794,0.803607214428858,0.807615230460922,0.811623246492986,0.81563126252505,0.819639278557114,0.823647294589178,0.827655310621243,0.831663326653307,0.835671342685371,0.839679358717435,0.843687374749499,0.847695390781563,0.851703406813627,0.855711422845691,0.859719438877756,0.86372745490982,0.867735470941884,0.871743486973948,0.875751503006012,0.879759519038076,0.88376753507014,0.887775551102205,0.891783567134268,0.895791583166333,0.899799599198397,0.903807615230461,0.907815631262525,0.911823647294589,0.915831663326653,0.919839679358717,0.923847695390781,0.927855711422846,0.93186372745491,0.935871743486974,0.939879759519038,0.943887775551102,0.947895791583166,0.95190380761523,0.955911823647295,0.959919839679359,0.963927855711423,0.967935871743487,0.971943887775551,0.975951903807615,0.979959919839679,0.983967935871743,0.987975951903808,0.991983967935872,0.995991983967936,1,0,-0.00400801603206413,0,0.00400801603206413],"y":[0.333333333333333,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,-0.333333333333333,-1,-1,-1]},"edges":{"from":["seq_len","N","tibble","gen_data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data","data"],"to":["gen_data","gen_data","gen_data","data","data1","data2","data3","data4","data5","data6","data7","data8","data9","data10","data11","data12","data13","data14","data15","data16","data17","data18","data19","data20","data21","data22","data23","data24","data25","data26","data27","data28","data29","data30","data31","data32","data33","data34","data35","data36","data37","data38","data39","data40","data41","data42","data43","data44","data45","data46","data47","data48","data49","data50","data51","data52","data53","data54","data55","data56","data57","data58","data59","data60","data61","data62","data63","data64","data65","data66","data67","data68","data69","data70","data71","data72","data73","data74","data75","data76","data77","data78","data79","data80","data81","data82","data83","data84","data85","data86","data87","data88","data89","data90","data91","data92","data93","data94","data95","data96","data97","data98","data99","data100","data101","data102","data103","data104","data105","data106","data107","data108","data109","data110","data111","data112","data113","data114","data115","data116","data117","data118","data119","data120","data121","data122","data123","data124","data125","data126","data127","data128","data129","data130","data131","data132","data133","data134","data135","data136","data137","data138","data139","data140","data141","data142","data143","data144","data145","data146","data147","data148","data149","data150","data151","data152","data153","data154","data155","data156","data157","data158","data159","data160","data161","data162","data163","data164","data165","data166","data167","data168","data169","data170","data171","data172","data173","data174","data175","data176","data177","data178","data179","data180","data181","data182","data183","data184","data185","data186","data187","data188","data189","data190","data191","data192","data193","data194","data195","data196","data197","data198","data199","data200","data201","data202","data203","data204","data205","data206","data207","data208","data209","data210","data211","data212","data213","data214","data215","data216","data217","data218","data219","data220","data221","data222","data223","data224","data225","data226","data227","data228","data229","data230","data231","data232","data233","data234","data235","data236","data237","data238","data239","data240","data241","data242","data243","data244","data245","data246","data247","data248","data249","data250","data251","data252","data253","data254","data255","data256","data257","data258","data259","data260","data261","data262","data263","data264","data265","data266","data267","data268","data269","data270","data271","data272","data273","data274","data275","data276","data277","data278","data279","data280","data281","data282","data283","data284","data285","data286","data287","data288","data289","data290","data291","data292","data293","data294","data295","data296","data297","data298","data299","data300","data301","data302","data303","data304","data305","data306","data307","data308","data309","data310","data311","data312","data313","data314","data315","data316","data317","data318","data319","data320","data321","data322","data323","data324","data325","data326","data327","data328","data329","data330","data331","data332","data333","data334","data335","data336","data337","data338","data339","data340","data341","data342","data343","data344","data345","data346","data347","data348","data349","data350","data351","data352","data353","data354","data355","data356","data357","data358","data359","data360","data361","data362","data363","data364","data365","data366","data367","data368","data369","data370","data371","data372","data373","data374","data375","data376","data377","data378","data379","data380","data381","data382","data383","data384","data385","data386","data387","data388","data389","data390","data391","data392","data393","data394","data395","data396","data397","data398","data399","data400","data401","data402","data403","data404","data405","data406","data407","data408","data409","data410","data411","data412","data413","data414","data415","data416","data417","data418","data419","data420","data421","data422","data423","data424","data425","data426","data427","data428","data429","data430","data431","data432","data433","data434","data435","data436","data437","data438","data439","data440","data441","data442","data443","data444","data445","data446","data447","data448","data449","data450","data451","data452","data453","data454","data455","data456","data457","data458","data459","data460","data461","data462","data463","data464","data465","data466","data467","data468","data469","data470","data471","data472","data473","data474","data475","data476","data477","data478","data479","data480","data481","data482","data483","data484","data485","data486","data487","data488","data489","data490","data491","data492","data493","data494","data495","data496","data497","data498","data499","data500"],"arrows":["to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to"]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot","physics":false},"manipulation":{"enabled":false},"layout":{"hierarchical":{"enabled":true,"direction":"LR"}},"edges":{"smooth":false},"physics":{"stabilization":false},"interaction":{"navigationButtons":true,"hover":true}},"groups":null,"width":null,"height":null,"idselection":{"enabled":false},"byselection":{"enabled":false},"main":{"text":"Dependency graph","style":"font-family:Georgia, Times New Roman, Times, serif;font-weight:bold;font-size:20px;text-align:center;"},"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)","legend":{"width":0.2,"useGroups":false,"position":"left","ncol":1,"stepX":100,"stepY":100,"zoom":true,"nodes":{"label":["Outdated","Imported","Object","Function"],"color":["#000000","#1874CD","#888888","#888888"],"shape":["dot","dot","dot","triangle"],"font.color":["black","black","black","black"],"font.size":[20,20,20,20],"id":[2,5,7,8]},"nodesToDataframe":true},"igraphlayout":{"type":"square"},"tooltipStay":300,"tooltipStyle":"position: fixed;visibility:hidden;padding: 5px;white-space: nowrap;font-family: verdana;font-size:14px;font-color:#000000;background-color: #f5f4ed;-moz-border-radius: 3px;-webkit-border-radius: 3px;border-radius: 3px;border: 1px solid #808074;box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.2);","events":{"hoverNode":"function(e){\n        var label_info = this.body.data.nodes.get({\n          fields: ['label', 'hover_label'],\n          filter: function (item) {\n            return item.id === e.node\n          },\n          returnType :'Array'\n        });\n        this.body.data.nodes.update({\n          id: e.node,\n          label : label_info[0].hover_label,\n          hover_label : label_info[0].label\n        });\n      }","blurNode":"function(e){\n        var label_info = this.body.data.nodes.get({\n          fields: ['label', 'hover_label'],\n          filter: function (item) {\n            return item.id === e.node\n          },\n          returnType :'Array'\n        });\n        this.body.data.nodes.update({\n          id: e.node,\n          label : label_info[0].hover_label,\n          hover_label : label_info[0].label\n        });\n      }"}},"evals":["events.hoverNode","events.blurNode"],"jsHooks":[]}</script>
</div>
</div>
<div id="final-thoughts" class="section level2">
<h2><span class="header-section-number">10.7</span> Final thoughts</h2>
<div id="debugging" class="section level3">
<h3><span class="header-section-number">10.7.1</span> Debugging</h3>
<p>For large workflows, downsizing and debugging tools become super important. See the <a href="debug.html#debug">guide to debugging and testing <code>drake</code> projects</a> for help on diagnosing problems with a workflow.</p>
</div>
<div id="drake-as-an-ordinary-job-scheduler" class="section level3">
<h3><span class="header-section-number">10.7.2</span> Drake as an ordinary job scheduler</h3>
<p>If you do not care about reproducibility and you want <code>drake</code> to be an ordinary job scheduler, consider using alternative triggers (see <code>?trigger</code>).</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">load_mtcars_example</span>()
<span class="kw">make</span>(my_plan, <span class="dt">trigger =</span> <span class="kw">trigger</span>(<span class="dt">condition =</span> <span class="ot">TRUE</span>))</code></pre>
<p>Above, <code>drake</code> only builds the missing targets. This skips much of the time-consuming hashing that ordinarily detects which targets are out of date.</p>
</div>
<div id="more-resources" class="section level3">
<h3><span class="header-section-number">10.7.3</span> More resources</h3>
<p>See the <a href="time.html#time">timing guide</a> for explanations of functions <code>predict_runtime()</code> and <code>predict_load_balancing()</code>, which can help you plan and strategize deployment.</p>
</div>
</div>
<div id="footnotes" class="section level2">
<h2><span class="header-section-number">10.8</span> Footnotes</h2>
<p><a id="note1" href="#note1ref">[1]</a> The video of staged parallelism is an oversimplification. It holds mostly true for <code>make(parallelism = &quot;parLapply_staged&quot;)</code>, but <code>make(parallelism = &quot;mclapply_staged&quot;)</code> is a bit different. In the former case, each stage is a call to <code>parLapply()</code>, which recycles existing workers on a pre-built parallel socket (PSOCK) cluster. But in the latter, every stage is a new call to <code>mclapply()</code>, which launches a brand new batch of workers. In that sense, workers in <code>make(parallelism = &quot;parLapply_staged&quot;)</code> are sort of persistent, and workers in <code>make(parallelism = &quot;mclapply_staged&quot;)</code> are sort of transient for some projects.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="debug.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="triggers.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
